{"version":3,"sources":["webpack:///./src/api/trackerConfig.js","webpack:///./src/views/trackerConfig/blockOrigins.vue","webpack:///src/views/trackerConfig/blockOrigins.vue","webpack:///./src/views/trackerConfig/blockOrigins.vue?868a","webpack:///./src/views/trackerConfig/blockOrigins.vue?37e4"],"names":["fetchTrackerConfig","request","url","method","configTracker","data","fetchAnnounces","addAnnounce","removeAnnounce","fetchBlockIps","addBlockIp","removeBlockIp","fetchAllowIps","addAllowIp","removeAllowIp","fetchBlockOrigins","addBlockOrigin","removeBlockOrigin","fetchSignalToken","addSignalToken","removeSignalToken","render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","$event","dialogFormVisible","_v","directives","name","rawName","value","tableLoading","expression","tableData","scopedSlots","_u","key","fn","scope","_s","row","$t","ref","pClose","handleDelete","style","device","pShow","slot","form","model","block_origin","callback","$$v","$set","createItemLoading","handleCreateItem","staticRenderFns","mounted","computed","mapGetters","methods","id","fetchData","catch","then","item","console","component"],"mappings":"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","file":"js/chunk-f3b204dc.c69a3314.js","sourcesContent":["import request from '@/utils/request'\n\n// 获取tracker配置\nexport function fetchTrackerConfig() {\n  return request({\n    url: 'tracker/config',\n    method: 'get',\n  })\n}\n\n// 修改tracker配置\nexport function configTracker(data) {\n  return request({\n    url: 'tracker/config',\n    method: 'post',\n    data\n  })\n}\n\n// 获取announce\nexport function fetchAnnounces() {\n    return request({\n        url: '/tracker/announces',\n        method: 'get',\n    })\n}\n\n// 增加announce\nexport function addAnnounce(data) {\n    return request({\n        url: '/tracker/announces',\n        method: 'post',\n        data\n    })\n}\n\n// 删除announce\nexport function removeAnnounce(data) {\n    return request({\n        url: '/tracker/announces',\n        method: 'delete',\n        data\n    })\n}\n\n// 获取BlockIp\nexport function fetchBlockIps() {\n    return request({\n        url: '/tracker/block_ips',\n        method: 'get',\n    })\n}\n\n// 增加BlockIp\nexport function addBlockIp(data) {\n    return request({\n        url: '/tracker/block_ips',\n        method: 'post',\n        data\n    })\n}\n\n// 删除BlockIp\nexport function removeBlockIp(data) {\n    return request({\n        url: '/tracker/block_ips',\n        method: 'delete',\n        data\n    })\n}\n\n// 获取AllowIp\nexport function fetchAllowIps() {\n    return request({\n        url: '/tracker/allow_ips',\n        method: 'get',\n    })\n}\n\n// 增加AllowIp\nexport function addAllowIp(data) {\n    return request({\n        url: '/tracker/allow_ips',\n        method: 'post',\n        data\n    })\n}\n\n// 删除AllowIp\nexport function removeAllowIp(data) {\n    return request({\n        url: '/tracker/allow_ips',\n        method: 'delete',\n        data\n    })\n}\n\n// 获取BlockOrigin\nexport function fetchBlockOrigins() {\n    return request({\n        url: '/tracker/block_origins',\n        method: 'get',\n    })\n}\n\n// 增加BlockOrigin\nexport function addBlockOrigin(data) {\n    return request({\n        url: '/tracker/block_origins',\n        method: 'post',\n        data\n    })\n}\n\n// 删除BlockOrigin\nexport function removeBlockOrigin(data) {\n    return request({\n        url: '/tracker/block_origins',\n        method: 'delete',\n        data\n    })\n}\n\n// 获取signal token\nexport function fetchSignalToken() {\n    return request({\n        url: '/tracker/signal_token',\n        method: 'get',\n    })\n}\n\n// 增加signal token\nexport function addSignalToken(data) {\n    return request({\n        url: '/tracker/signal_token',\n        method: 'post',\n        data\n    })\n}\n\n// 删除signal token\nexport function removeSignalToken(data) {\n    return request({\n        url: '/tracker/signal_token',\n        method: 'delete',\n        data\n    })\n}\n\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-container\"},[_c('el-col',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"xs\":10,\"sm\":4,\"lg\":2}},[_c('el-button',{staticStyle:{\"float\":\"'left'\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增Block Origin\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"Origin\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row))])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('domainTable.operation'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row,attrs:{\"placement\":\"top\",\"width\":\"160\",\"trigger\":\"manual\"}},[_c('p',[_vm._v(\"确认删除吗\")]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.pClose(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-button',{style:(_vm.device==='mobile'?'':'margin-left: 10px'),attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.pShow(scope.row)}},slot:\"reference\"},[_vm._v(_vm._s(_vm.$t('common.delete')))])],1)]}}])})],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogFormVisible,\"width\":_vm.device==='mobile'?'85%':''},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('p',[_vm._v(\"输入Origin(不包含端口)\")])]),_c('el-form',{ref:\"createForm\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Origin\",\"label-width\":\"100px\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.block_origin),callback:function ($$v) {_vm.$set(_vm.form, \"block_origin\", $$v)},expression:\"form.block_origin\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.createItemLoading},on:{\"click\":_vm.handleCreateItem}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-container\">\n        <el-col :xs=\"10\" :sm=\"4\" :lg=\"2\" style=\"margin: 10px 0\">\n            <el-button style=\"float: 'left'\" type=\"primary\" @click=\"dialogFormVisible = true\">新增Block Origin</el-button>\n        </el-col>\n\n        <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"tableLoading\">\n\n            <el-table-column label=\"Origin\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <span style=\"margin-left: 10px\">{{ scope.row }}</span>\n                </template>\n            </el-table-column>\n\n            <el-table-column :label=\"$t('domainTable.operation')\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-popover placement=\"top\" width=\"160\" :ref=\"'popover-' + scope.row\" trigger=\"manual\">\n                        <p>确认删除吗</p>\n                        <div style=\"text-align: right; margin: 0\">\n                            <el-button size=\"mini\" type=\"text\" @click=\"pClose(scope.row)\">{{ $t('common.cancel') }}</el-button>\n                            <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\">{{ $t('common.ok') }}</el-button>\n                        </div>\n                        <el-button slot=\"reference\" size=\"mini\" type=\"danger\" @click=\"pShow(scope.row)\" :style=\"device==='mobile'?'':'margin-left: 10px'\">{{ $t('common.delete') }}</el-button>\n                    </el-popover>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-dialog  :visible.sync=\"dialogFormVisible\" :width=\"device==='mobile'?'85%':''\">\n            <div slot=\"title\">\n                <p>输入Origin(不包含端口)</p>\n                <!--<p style=\"font-size: 12px\">{{ $t('app.createTip') }}</p>-->\n            </div>\n            <el-form :model=\"form\" label-position=\"left\" label-width=\"120px\" ref=\"createForm\">\n                <el-form-item label=\"Origin\" label-width=\"100px\" required>\n                    <el-input v-model=\"form.block_origin\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">{{ $t('common.cancel') }}</el-button>\n                <el-button type=\"primary\" @click=\"handleCreateItem\" :loading=\"createItemLoading\">{{ $t('common.ok') }}</el-button>\n            </div>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    import { fetchBlockOrigins, addBlockOrigin, removeBlockOrigin } from '@/api/trackerConfig'\n    import { mapGetters } from 'vuex'\n\n    export default {\n        name: \"blockorigins\",\n        data() {\n            return {\n                tableData: [],\n                createItemLoading: false,\n                tableLoading: false,\n                dialogFormVisible: false,\n                form: {\n                    block_origin: '',\n                },\n            }\n        },\n        mounted() {\n            this.fetchData()\n        },\n        computed: {\n            ...mapGetters([\n                'device'\n            ])\n        },\n        methods: {\n            pShow(id) {\n                this.$refs[`popover-` + id].doShow()\n            },\n            pClose(id) {\n                this.$refs[`popover-` + id].doClose()\n            },\n            fetchData() {\n                this.tableLoading = true\n                fetchBlockOrigins().then(res => {\n                    if(res.data) {\n                        if(res.data.block_origins) {\n                            this.tableData = res.data.block_origins\n                        }\n                    }\n                    this.tableLoading = false\n                }).catch(err => {\n                    this.tableLoading = false\n                })\n            },\n            handleCreateItem() {\n                this.$refs.createForm.validate(valid => {\n                    if(valid) {\n                        this.createItemLoading = true\n                        addBlockOrigin(this.form)\n                            .then(res => {\n                                if(res.data.success) {\n                                    this.dialogFormVisible = false\n                                    this.createItemLoading = false\n                                    this.$message.success(\"创建成功\")\n                                    this.fetchData()\n                                }\n                            })\n                            .catch(err => {\n                                this.createItemLoading = false\n                            })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            handleDelete(item) {\n                const data = {\n                    block_origin: item,\n                }\n                removeBlockOrigin(data)\n                    .then(res => {\n                        if(res.data.success) {\n                            this.fetchData()\n                            this.$message.success(this.$t('app.deleteItemSuccess'))\n                            this.pClose(item)\n                        }\n                    })\n                    .catch(err => {\n                        this.pClose(item)\n                        console.log(err)\n                    })\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blockOrigins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blockOrigins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./blockOrigins.vue?vue&type=template&id=03547275&scoped=true&\"\nimport script from \"./blockOrigins.vue?vue&type=script&lang=js&\"\nexport * from \"./blockOrigins.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03547275\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}