{"version":3,"sources":["webpack:///./src/api/liveData.js","webpack:///./src/views/userDistribution/China.vue","webpack:///./src/views/userDistribution/admin/China.vue","webpack:///src/views/userDistribution/admin/China.vue","webpack:///./src/views/userDistribution/admin/China.vue?2752","webpack:///./src/views/userDistribution/admin/China.vue?14d4","webpack:///./src/views/userDistribution/user/China.vue","webpack:///src/views/userDistribution/user/China.vue","webpack:///./src/views/userDistribution/user/China.vue?50a6","webpack:///./src/views/userDistribution/user/China.vue?a1e4","webpack:///src/views/userDistribution/China.vue","webpack:///./src/views/userDistribution/China.vue?cd02","webpack:///./src/views/userDistribution/China.vue?44be","webpack:///./src/components/NoBindTip/index.vue","webpack:///src/components/NoBindTip/index.vue","webpack:///./src/components/NoBindTip/index.vue?6450","webpack:///./src/components/NoBindTip/index.vue?714f"],"names":["fetchLiveTimeData","request","url","method","fetchOverallData","fetchLiveData","type","opts","country","fetchHotChannels","page","pageSize","render","_vm","this","_c","_self","currentRole","tag","staticRenderFns","attrs","cityData","provinceData","total","name","data","components","ChinaMap","mounted","methods","fetchData","catch","console","component","NoBindTip","computed","mapGetters","watch","currentDomain","beforeDestroy","fetchGeoDis","adminChina","userChina","created","tipVisible","device","on","$event","_v","_s","$t","staticClass","slot","handleGoApp","handlePush","domain","setTimeout"],"mappings":"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","file":"js/chunk-0e3829e2.c7b3e45b.js","sourcesContent":["import request from '@/utils/request'\n\n// 全局数据接口\nexport function fetchGlobalData() {\n  return request({\n    url: 'global',\n    method: 'get',\n  })\n}\n\n// livetime接口\nexport function fetchLiveTimeData() {\n    return request({\n        url: 'global/livetime',\n        method: 'get',\n    })\n}\n\n// overall接口\nexport function fetchOverallData() {\n    return request({\n        url: 'global/overall',\n        method: 'get',\n    })\n}\n\nexport function fetchLiveData(type, opts) {\n    let url =`global/num?type=${type}`\n    if (opts && opts.country) {\n        url = `${url}&country=${opts.country}`\n    }\n    return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 全局热门频道\nexport function fetchHotChannels(page, pageSize) {\n    let url = `global/channel?page=${page}&page_size=${pageSize}`\n    return request({\n        url,\n        method: 'get'\n    })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.currentRole,{tag:\"component\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('china-map',{attrs:{\"chartData\":_vm.cityData,\"provinceData\":_vm.provinceData,\"total\":_vm.total}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <china-map :chartData=\"cityData\" :provinceData=\"provinceData\" :total=\"total\" />\n</template>\n\n<script>\nimport ChinaMap from '@/components/CityMap'\nimport { fetchLiveData } from '@/api/liveData'\n\nexport default {\n  name: 'ChinaDis',\n  data() {\n    return {\n      cityData: [],\n      provinceData: [],\n      total: 0\n    }\n  },\n  components: {\n    ChinaMap\n  },\n  mounted() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      fetchLiveData('city', {country: 'china'}).then(res => {\n        const data = res.data\n        if(data) {\n          this.cityData = data.data\n        }\n      }).catch(err => {\n          console.log(err)\n      })\n\n      fetchLiveData('province', {country: 'china'}).then(res => {\n        const data = res.data\n        if(data) {\n          this.provinceData = data.data\n          this.total = data.total\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./China.vue?vue&type=template&id=72974f9a&\"\nimport script from \"./China.vue?vue&type=script&lang=js&\"\nexport * from \"./China.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('china-map',{attrs:{\"chartData\":_vm.cityData,\"provinceData\":_vm.provinceData,\"total\":_vm.total}}),_c('NoBindTip')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <china-map :chartData=\"cityData\" :provinceData=\"provinceData\" :total=\"total\" />\n    <NoBindTip />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport ChinaMap from '@/components/CityMap'\nimport NoBindTip from '@/components/NoBindTip'\nimport { fetchGeoDis } from '@/api/user/liveData'\n\nexport default {\n  name: 'ChinaDis',\n  data() {\n    return {\n      cityData: [],\n      provinceData: [],\n      total: 0\n    }\n  },\n  components: {\n    ChinaMap,\n    NoBindTip\n  },\n  computed: {\n    ...mapGetters([\n      'currentDomain'\n    ])\n  },\n  watch: {\n    currentDomain: function () {\n      this.fetchData()\n    }\n  },\n  mounted() {\n    this.$store.dispatch('toggleSwitchDomain', true)\n    if(this.currentDomain.id) {\n      this.fetchData()\n    }\n  },\n  beforeDestroy() {\n    this.$store.dispatch('toggleSwitchDomain', false)\n  },\n  methods: {\n    fetchData() {\n      fetchGeoDis(this.currentDomain.uid, this.currentDomain.id, 'city', 'china').then(res => {\n        const data = res.data\n        if(data) {\n            // console.warn(res.data.filter(item => item.value > 0))\n          this.cityData = data.data.filter(item => item.value > 0)\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n\n      fetchGeoDis(this.currentDomain.uid, this.currentDomain.id, 'province', 'china').then(res => {\n        const data = res.data\n        if(data) {\n          this.provinceData = data.data\n          this.total = data.total\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./China.vue?vue&type=template&id=0ab7f5c7&\"\nimport script from \"./China.vue?vue&type=script&lang=js&\"\nexport * from \"./China.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <component :is=\"currentRole\"/>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport adminChina from './admin/China'\nimport userChina from './user/China'\n\nexport default {\n  name: 'China',\n  components: { adminChina, userChina },\n  data() {\n    return {\n      currentRole: 'adminChina'\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'roles'\n    ])\n  },\n  created() {\n    if (!this.roles.includes('admin')) {\n      this.currentRole = 'userChina'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./China.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./China.vue?vue&type=template&id=29ed7a70&\"\nimport script from \"./China.vue?vue&type=script&lang=js&\"\nexport * from \"./China.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"visible\":_vm.tipVisible,\"width\":_vm.device === 'mobile' ? '80%' : '30%'},on:{\"update:visible\":function($event){_vm.tipVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.$t('dashboard.tip')))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.tipVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleGoApp}},[_vm._v(_vm._s(_vm.$t('dashboard.goApp')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePush}},[_vm._v(_vm._s(_vm.$t('dashboard.goBind')))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :visible.sync=\"tipVisible\"\n    :width=\"device === 'mobile' ? '80%' : '30%'\">\n    <span>{{ $t('dashboard.tip') }}</span>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"tipVisible = false\">{{ $t('common.cancel') }}</el-button>\n      <el-button type=\"primary\" @click=\"handleGoApp\">{{ $t('dashboard.goApp') }}</el-button>\n      <el-button type=\"primary\" @click=\"handlePush\">{{ $t('dashboard.goBind') }}</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'NoBindTip',\n  data() {\n    return {\n      tipVisible: false\n    }\n  },\n  watch: {\n    currentDomain(domain) {\n      if(domain.id !== undefined) {\n        this.tipVisible = false\n      }\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n        if(this.roles.indexOf('user') > -1 && this.currentDomain.id === undefined) {\n            this.tipVisible = true\n        }\n    }, 5000)\n  },\n  computed: {\n    ...mapGetters([\n      'device',\n      'currentDomain',\n      'roles'\n    ])\n  },\n  methods: {\n    handlePush() {\n      this.tipVisible = false\n      this.$router.push('/user/domain')\n    },\n    handleGoApp() {\n      this.tipVisible = false\n      this.$router.push('/app/app')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57c67a15&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}