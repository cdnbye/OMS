(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c08d17bc"],{"25e9":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"resetForm",staticClass:"login-form",attrs:{model:e.resetForm,rules:e.resetRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(e._s(e.$t("passwdReset.title")))]),t("lang-select",{staticClass:"set-language"}),t("select-zone",{staticClass:"console"})],1),t("el-form-item",{attrs:{prop:"email"}},[t("span",{staticClass:"svg-container svg-container_login"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{attrs:{placeholder:e.$t("passwdReset.email"),name:"email",type:"text","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSendCode.apply(null,arguments)}},model:{value:e.resetForm.email,callback:function(t){e.$set(e.resetForm,"email",t)},expression:"resetForm.email"}})],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{id:"sendButton",loading:e.sendLoading,disabled:e.sendDisabled,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.onSendCode.apply(null,arguments)}}},[e._v(e._s(e.$t("passwdReset.send")))]),t("el-form-item",{attrs:{prop:"Vcode"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{attrs:{placeholder:e.$t("passwdReset.vcode"),name:"Vcode","auto-complete":"on"},model:{value:e.resetForm.Vcode,callback:function(t){e.$set(e.resetForm,"Vcode",t)},expression:"resetForm.Vcode"}})],1),t("el-form-item",{attrs:{prop:"Passwd"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{attrs:{type:e.passwordType,placeholder:e.$t("passwdReset.password"),name:"Passwd","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSignup.apply(null,arguments)}},model:{value:e.resetForm.Passwd,callback:function(t){e.$set(e.resetForm,"Passwd",t)},expression:"resetForm.Passwd"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("a",{staticStyle:{color:"#eee"},on:{click:e.goLogin}},[e._v(e._s(e.$t("auth.login")))]),t("a",{staticStyle:{color:"#eee"},on:{click:e.goSignup}},[e._v(e._s(e.$t("auth.signup")))])]),t("el-button",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{loading:e.resetLoading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleReset.apply(null,arguments)}}},[e._v(e._s(e.$t("passwdReset.submit")))])],1)],1)},o=[],a=s("61f7"),r=s("3786"),i=s("b811"),l=s("1131"),c=s("ed08"),d={name:"PasswdReset",components:{LangSelect:l["a"],SelectZone:i["a"]},data:function(){var e=this,t=function(t,s,n){if(Object(a["a"])(s))n();else{var o=e.$t("auth.mailError");n(new Error(o))}},s=function(t,s,n){if(s.length<6||s.length>18){var o=e.$t("auth.passwdError");n(new Error(o))}else n()},n=function(t,s,n){if(s.length<4){var o=e.$t("auth.vcodeError");n(new Error(o))}else n()};return{resetForm:{email:"",Passwd:"",Vcode:""},resetRules:{email:[{required:!0,trigger:"blur",validator:t}],Passwd:[{required:!0,trigger:"blur",validator:s}],Vcode:[{required:!0,trigger:"blur",validator:n}]},passwordType:"password",resetLoading:!1,sendLoading:!1,sendDisabled:!1,redirect:void 0,int:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleReset:function(){var e=this;Object(c["a"])()&&this.$refs.resetForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.resetLoading=!0,Object(r["b"])(e.resetForm).then((function(){e.resetLoading=!1;var t=e.$t("passwdReset.successTitle");e.$message({message:t,type:"success"}),e.$router.push({path:"/login"})})).catch((function(){e.resetLoading=!1}))}))},onSendCode:function(){var e=this;if(Object(c["a"])()){var t=this.resetForm.email;if(t)if(Object(a["a"])(t)){var s={email:t,action:"passwd_forget"};this.sendLoading=!0,Object(r["c"])(s).then((function(t){e.sendLoading=!1;var s=e.$t("auth.sendTitle");e.$message({message:s,type:"success"}),e.sendButtonEnable()})).catch((function(t){e.sendLoading=!1}))}else{var n=this.$t("auth.mailError");this.$message.error(n)}else{var o=this.$t("auth.mailError");this.$message.error(o)}}},goLogin:function(){this.$router.push({path:"/login"})},goSignup:function(){this.$router.push({path:"/signup"})},sendButtonEnable:function(){var e=300,t=document.getElementById("sendButton"),s=this;s.int=setInterval((function(){s.sendDisabled=!0,e--,e>0?t.innerHTML=e+" S":(t.innerHTML=s.$t("signup.send"),s.sendDisabled=!1,clearInterval(s.int),s.int=void 0)}),1e3)}}},u=d,p=(s("e099"),s("e976"),s("2877")),h=Object(p["a"])(u,n,o,!1,null,"2566c715",null);t["default"]=h.exports},"3ab0":function(e,t,s){},4507:function(e,t,s){},"60ae":function(e,t,s){},b811:function(e,t,s){"use strict";var n=function(){var e=this,t=e._self._c;return t("el-dropdown",{attrs:{"hide-on-click":!1},on:{command:e.handleConsoleSelect}},[t("span",{staticClass:"el-dropdown-link",style:!0===e.showRed?{color:"#f56c6c"}:""},[e._v("\n          "+e._s(e.selectedText)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"p1"}},[e._v(e._s(e.$t("auth.consoleCN")))]),t("el-dropdown-item",{attrs:{command:"p3"}},[e._v(e._s(e.$t("auth.consoleHK")))]),t("el-dropdown-item",{attrs:{command:"p2"}},[e._v(e._s(e.$t("auth.consoleUSA")))]),e.showLocal?t("el-dropdown-item",{attrs:{command:"d1"}},[e._v("Localhost")]):e._e()],1)],1)},o=[],a=s("267e"),r=s("5d2d"),i=s("b775"),l={name:"SelectZone",data:function(){return{selectedZone:"",showRed:!1,showLocal:!1}},mounted:function(){this.checkSelected(),"localhost"===location.hostname&&(this.showLocal=!0)},computed:{selectedText:function(){return this.checkSelected(),this.selectedZone||this.$t("auth.console")}},methods:{checkSelected:function(e){this.showRed=!1,e||(e=Object(r["a"])(a["b"])),"p1"===e?this.selectedZone=this.$t("navbar.currZone")+this.$t("auth.consoleCN"):"p3"===e?this.selectedZone=this.$t("navbar.currZone")+this.$t("auth.consoleHK"):"p2"===e?this.selectedZone=this.$t("navbar.currZone")+this.$t("auth.consoleUSA"):"d1"===e?this.selectedZone=this.$t("navbar.currZone")+"local":this.showRed=!0},handleConsoleSelect:function(e){this.checkSelected(e),i["a"].defaults.baseURL=a["a"][e],Object(r["c"])(a["b"],e)}}},c=l,d=(s("d885"),s("2877")),u=Object(d["a"])(c,n,o,!1,null,"93094950",null);t["a"]=u.exports},d885:function(e,t,s){"use strict";s("3ab0")},e099:function(e,t,s){"use strict";s("60ae")},e976:function(e,t,s){"use strict";s("4507")}}]);
//# sourceMappingURL=chunk-c08d17bc.93fb7d46.js.map