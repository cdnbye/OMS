(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bcb64fb"],{"284a":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c}));var a=n("b775");function r(){return Object(a["a"])({url:"global/livetime",method:"get"})}function l(){return Object(a["a"])({url:"global/overall",method:"get"})}function o(e,t){var n="global/num?type=".concat(e);return t&&t.country&&(n="".concat(n,"&country=").concat(t.country)),Object(a["a"])({url:n,method:"get"})}function i(e,t){var n="global/channel?page=".concat(e,"&page_size=").concat(t);return Object(a["a"])({url:n,method:"get"})}function c(e){var t="global/channel/split";return Object(a["a"])({url:t,method:"post",data:e})}},e6f6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{style:"mobile"===e.device?"":"padding: 30px 120px"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.tableData}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-form",{attrs:{inline:"",align:"left"}},[t("el-form-item",{attrs:{label:"users"}},[t("span",[e._v(e._s(n.row.users.join(" ")))])])],1),n.row.columns.length>1?t("el-form",{attrs:{inline:"",align:"left"}},[t("el-form-item",{attrs:{label:"columns"}},[t("span",[e._v(e._s(n.row.columns.join("--")))])])],1):e._e()]}}])}),t("el-table-column",{attrs:{align:"center",width:"50",type:"index",index:e.indexMethod}}),t("el-table-column",{attrs:{align:"center",prop:"channel",label:e.$t("hotChannels.content")}}),t("el-table-column",{attrs:{align:"center",width:"100",prop:"num",label:e.$t("hotChannels.num")}}),t("el-table-column",{attrs:{align:"center",width:"100",prop:"columns.length",label:"槽数"}}),t("el-table-column",{attrs:{align:"center",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.splitChannel(n.row.channel_id)}}},[e._v("拆分")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{layout:"sizes, prev, pager, next","page-sizes":[10,20,50,100],"page-size":e.tableParam.pageSize,"current-page":e.tableParam.page},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],l=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),o=n("284a"),i=n("2f62");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(l["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={name:"hotChannel",data:function(){return{loading:!1,tableData:[],tableParam:{page:1,pageSize:10}}},computed:u({},Object(i["b"])(["device"])),mounted:function(){this.fetchTableData()},methods:{fetchTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tableParam.page,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tableParam.pageSize;this.loading=!0,Object(o["a"])(t,n).then((function(t){t.data&&(e.tableData=t.data),e.loading=!1,window.clearTimeout(e.timer),e.timer=window.setTimeout((function(){e.fetchTableData()}),2e4)})).catch((function(t){e.loading=!1,console.log(t)}))},handleSizeChange:function(e){this.tableParam.pageSize=e,this.fetchTableData()},handleCurrentChange:function(e){this.tableParam.page=e,this.fetchTableData()},indexMethod:function(e){return e+(this.tableParam.page-1)*this.tableParam.pageSize+1},splitChannel:function(e){var t=this;Object(o["e"])({channel_id:e}).then((function(e){var n=e.data,a=n.columns;t.$notify({title:t.$t("common.success"),message:"当前槽数：".concat(a),type:"success"})}))}},beforeDestroy:function(){window.clearTimeout(this.timer)}},b=s,d=n("2877"),h=Object(d["a"])(b,a,r,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-7bcb64fb.62475417.js.map