{"version":3,"sources":["webpack:///./src/api/liveData.js","webpack:///./src/views/userDistribution/World.vue","webpack:///./src/views/userDistribution/admin/World.vue","webpack:///src/views/userDistribution/admin/World.vue","webpack:///./src/views/userDistribution/admin/World.vue?f58c","webpack:///./src/views/userDistribution/admin/World.vue?1c3b","webpack:///./src/views/userDistribution/user/World.vue","webpack:///src/views/userDistribution/user/World.vue","webpack:///./src/views/userDistribution/user/World.vue?8fc1","webpack:///./src/views/userDistribution/user/World.vue?7677","webpack:///src/views/userDistribution/World.vue","webpack:///./src/views/userDistribution/World.vue?93d6","webpack:///./src/views/userDistribution/World.vue?9981","webpack:///./src/components/NoBindTip/index.vue","webpack:///src/components/NoBindTip/index.vue","webpack:///./src/components/NoBindTip/index.vue?6450","webpack:///./src/components/NoBindTip/index.vue?714f"],"names":["fetchLiveTimeData","request","url","method","fetchOverallData","fetchLiveData","type","opts","country","fetchHotChannels","page","pageSize","splitHotChannels","data","render","_vm","this","_c","_self","currentRole","tag","staticRenderFns","attrs","countryData","total","name","components","WorldMap","created","methods","fetchData","catch","console","component","NoBindTip","computed","mapGetters","watch","currentDomain","mounted","beforeDestroy","fetchGeoDis","adminWorld","userWorld","tipVisible","device","on","$event","_v","_s","$t","staticClass","slot","handleGoApp","handlePush","domain","setTimeout"],"mappings":"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","file":"js/chunk-58bf5b60.4a9fc1e6.js","sourcesContent":["import request from '@/utils/request'\n\n// 全局数据接口\nexport function fetchGlobalData() {\n  return request({\n    url: 'global',\n    method: 'get',\n  })\n}\n\n// livetime接口\nexport function fetchLiveTimeData() {\n    return request({\n        url: 'global/livetime',\n        method: 'get',\n    })\n}\n\n// overall接口\nexport function fetchOverallData() {\n    return request({\n        url: 'global/overall',\n        method: 'get',\n    })\n}\n\nexport function fetchLiveData(type, opts) {\n    let url =`global/num?type=${type}`\n    if (opts && opts.country) {\n        url = `${url}&country=${opts.country}`\n    }\n    return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 全局热门频道\nexport function fetchHotChannels(page, pageSize) {\n    let url = `global/channel?page=${page}&page_size=${pageSize}`\n    return request({\n        url,\n        method: 'get'\n    })\n}\n\n// 全局热门频道拆分\nexport function splitHotChannels(data) {\n    let url = `global/channel/split`\n    return request({\n        url,\n        method: 'post',\n        data,\n    })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.currentRole,{tag:\"component\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('world-map',{attrs:{\"countryData\":_vm.countryData,\"total\":_vm.total}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <world-map :countryData=\"countryData\" :total=\"total\"/>\n</template>\n\n<script>\nimport WorldMap from '@/components/WorldMap'\nimport { fetchLiveData } from '@/api/liveData'\n\nexport default {\n  name: 'WorldDis',\n  data() {\n    return {\n      countryData: [],\n      total: 0,\n    }\n  },\n  components: {\n    WorldMap\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      fetchLiveData('country').then(res => {\n        const data = res.data\n        if(data) {\n          this.total += data.total\n          this.countryData = data.data\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./World.vue?vue&type=template&id=0d639de8&\"\nimport script from \"./World.vue?vue&type=script&lang=js&\"\nexport * from \"./World.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('world-map',{attrs:{\"countryData\":_vm.countryData,\"total\":_vm.total}}),_c('NoBindTip')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <world-map :countryData=\"countryData\" :total=\"total\"/>\n    <NoBindTip />\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport WorldMap from '@/components/WorldMap'\nimport NoBindTip from '@/components/NoBindTip'\nimport { fetchGeoDis } from '@/api/user/liveData'\n\nexport default {\n  name: 'WorldDis',\n  data() {\n    return {\n      countryData: [],\n      total: 0,\n    }\n  },\n  components: {\n    WorldMap,\n    NoBindTip\n  },\n  computed: {\n    ...mapGetters([\n      'currentDomain'\n    ])\n  },\n  watch: {\n    currentDomain: function () {\n      this.fetchData()\n    }\n  },\n  mounted() {\n    this.$store.dispatch('toggleSwitchDomain', true)\n    if(this.currentDomain.id) {\n      this.fetchData()\n    }\n  },\n  beforeDestroy() {\n    this.$store.dispatch('toggleSwitchDomain', false)\n  },\n  methods: {\n    fetchData() {\n      fetchGeoDis(this.currentDomain.uid, this.currentDomain.id, 'country').then(res => {\n        const data = res.data\n        if(data) {\n          this.total = data.total\n          if (data.data) {\n            this.countryData = data.data\n          }\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./World.vue?vue&type=template&id=fe9ade6c&\"\nimport script from \"./World.vue?vue&type=script&lang=js&\"\nexport * from \"./World.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <component :is=\"currentRole\"/>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport adminWorld from './admin/World'\nimport userWorld from './user/World'\n\nexport default {\n  name: 'World',\n  components: { adminWorld, userWorld },\n  data() {\n    return {\n      currentRole: 'adminWorld'\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'roles'\n    ])\n  },\n  created() {\n    if (!this.roles.includes('admin')) {\n      this.currentRole = 'userWorld'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./World.vue?vue&type=template&id=0b987b34&\"\nimport script from \"./World.vue?vue&type=script&lang=js&\"\nexport * from \"./World.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"visible\":_vm.tipVisible,\"width\":_vm.device === 'mobile' ? '80%' : '30%'},on:{\"update:visible\":function($event){_vm.tipVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.$t('dashboard.tip')))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.tipVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleGoApp}},[_vm._v(_vm._s(_vm.$t('dashboard.goApp')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePush}},[_vm._v(_vm._s(_vm.$t('dashboard.goBind')))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :visible.sync=\"tipVisible\"\n    :width=\"device === 'mobile' ? '80%' : '30%'\">\n    <span>{{ $t('dashboard.tip') }}</span>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"tipVisible = false\">{{ $t('common.cancel') }}</el-button>\n      <el-button type=\"primary\" @click=\"handleGoApp\">{{ $t('dashboard.goApp') }}</el-button>\n      <el-button type=\"primary\" @click=\"handlePush\">{{ $t('dashboard.goBind') }}</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'NoBindTip',\n  data() {\n    return {\n      tipVisible: false\n    }\n  },\n  watch: {\n    currentDomain(domain) {\n      if(domain.id !== undefined) {\n        this.tipVisible = false\n      }\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n        if(this.roles.indexOf('user') > -1 && this.currentDomain.id === undefined) {\n            this.tipVisible = true\n        }\n    }, 5000)\n  },\n  computed: {\n    ...mapGetters([\n      'device',\n      'currentDomain',\n      'roles'\n    ])\n  },\n  methods: {\n    handlePush() {\n      this.tipVisible = false\n      this.$router.push('/user/domain')\n    },\n    handleGoApp() {\n      this.tipVisible = false\n      this.$router.push('/app/app')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57c67a15&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}