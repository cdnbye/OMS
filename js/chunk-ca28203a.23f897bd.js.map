{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./src/api/user/package.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./src/views/package/package.vue?016b","webpack:///./src/views/package/package.vue","webpack:///src/views/package/package.vue","webpack:///./src/views/package/package.vue?55fe","webpack:///./src/views/package/package.vue?d873","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["isObject","setPrototypeOf","set","module","exports","that","target","C","P","S","constructor","prototype","fetchPackage","uid","url","request","method","fetchMonthlyPackage","createOrder","userID","data","updateCryptoTrade","fetchPayUrl","payMethod","orderID","device","origin","location","pathname","param","checkAlipayOrder","checkPaypalOrder","paymentID","payerID","checkIn","getInvoiceInfo","createInvoice","anObject","check","O","proto","TypeError","Object","test","buggy","Function","call","f","Array","e","__proto__","undefined","render","_vm","this","_c","_self","staticClass","style","padding","staticStyle","attrs","$t","_l","packages","item","index","key","subject","length","currency","_v","_s","traffic","original_price","price","display","toFixed","customized","_e","on","value","selectCountChange","model","selectPackage","cn","amount","callback","$$v","$set","expression","en","totalTraffic","realPrice","totalPrice","handleBuyClick","balance","useBalanceChanged","useBalance","staticRenderFns","name","mounted","computed","mapGetters","methods","getPackageData","then","catch","console","dialogClose","getTotalPrice","total","handleCreateOrder","goods","goods_type","balance_used","path","query","is_payed","buyData","type","distinguishCancelAndClose","confirmButtonText","cancelButtonText","component","$export","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","fn","trim","F","string","TYPE","String","replace","global","has","cof","inheritIfRequired","toPrimitive","gOPN","gOPD","dP","$trim","NUMBER","$Number","Base","BROKEN_COF","TRIM","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","i","l","parseInt","arguments","valueOf","keys","split","j"],"mappings":"8HAAA,IAAIA,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QAAgBC,IAC7CC,EAAOC,QAAU,SAAUC,EAAMC,EAAQC,GACvC,IACIC,EADAC,EAAIH,EAAOI,YAIb,OAFED,IAAMF,GAAiB,mBAALE,IAAoBD,EAAIC,EAAEE,aAAeJ,EAAEI,WAAaX,EAASQ,IAAMP,GAC3FA,EAAeI,EAAMG,GACdH,I,oCCPX,oWAGO,SAASO,EAAaC,GACzB,IAAIC,EAAM,oBAIZ,OAHMD,IACAC,EAAM,GAAH,OAAMA,EAAN,gBAAiBD,IAEnBE,eAAQ,CACbD,MACAE,OAAQ,QAKL,SAASC,EAAoBJ,GAChC,IAAIC,EAAM,uBAIZ,OAHMD,IACAC,EAAM,GAAH,OAAMA,EAAN,gBAAiBD,IAEnBE,eAAQ,CACbD,MACAE,OAAQ,QAKL,SAASE,EAAYC,EAAQC,GAClC,OAAOL,eAAQ,CACbD,IAAK,iBAAF,OAAmBK,GACtBH,OAAQ,OACRI,SAKG,SAASC,EAAkBD,GAC9B,OAAOL,eAAQ,CACXD,IAAK,sBACLE,OAAQ,OACRI,SAKD,SAASE,EAAYC,EAAWC,EAASC,GAC9C,IAAMC,EAASC,SAASD,OAASC,SAASC,SACpCC,EAAmB,WAAXJ,EAAsB,eAAiB,GACrD,OAAOV,eAAQ,CACbD,IAAK,UAAF,OAAYS,EAAZ,uBAAoCG,EAApC,qBAAuDF,GAAvD,OAAiEK,GACpEb,OAAQ,QAKL,SAASc,EAAiBN,GAC/B,OAAOT,eAAQ,CACbD,IAAK,gCAAF,OAAkCU,GACrCR,OAAQ,QAKL,SAASe,EAAiBP,EAASQ,EAAWC,GACnD,OAAOlB,eAAQ,CACbD,IAAK,gCAAF,OAAkCU,EAAlC,uBAAwDQ,EAAxD,qBAA8EC,GACjFjB,OAAQ,QAKL,SAASkB,EAAQf,EAAQC,GAC9B,OAAOL,eAAQ,CACbD,IAAK,gBAAF,OAAkBK,EAAlB,YACHH,OAAQ,OACRI,SAKG,SAASe,EAAehB,GAC3B,OAAOJ,eAAQ,CACXD,IAAK,gBAAF,OAAkBK,EAAlB,YACHH,OAAQ,QAKT,SAASoB,EAAcjB,EAAQC,GAClC,OAAOL,eAAQ,CACXD,IAAK,gBAAF,OAAkBK,EAAlB,YACHH,OAAQ,OACRI,W,uBC1FR,IAAIpB,EAAW,EAAQ,QACnBqC,EAAW,EAAQ,QACnBC,EAAQ,SAAUC,EAAGC,GAEvB,GADAH,EAASE,IACJvC,EAASwC,IAAoB,OAAVA,EAAgB,MAAMC,UAAUD,EAAQ,8BAElErC,EAAOC,QAAU,CACfF,IAAKwC,OAAOzC,iBAAmB,aAAe,GAC5C,SAAU0C,EAAMC,EAAO1C,GACrB,IACEA,EAAM,EAAQ,OAAR,CAAkB2C,SAASC,KAAM,EAAQ,QAAkBC,EAAEL,OAAO/B,UAAW,aAAaT,IAAK,GACvGA,EAAIyC,EAAM,IACVC,IAAUD,aAAgBK,OAC1B,MAAOC,GAAKL,GAAQ,EACtB,OAAO,SAAwBL,EAAGC,GAIhC,OAHAF,EAAMC,EAAGC,GACLI,EAAOL,EAAEW,UAAYV,EACpBtC,EAAIqC,EAAGC,GACLD,GAVX,CAYE,IAAI,QAASY,GACjBb,MAAOA,I,oCCvBT,W,2CCAA,IAAIc,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAsB,WAAfL,EAAI5B,OAAsB,GAAK,CAACkC,QAAS,eAAgB,CAACJ,EAAG,WAAW,CAACK,YAAY,CAAC,gBAAgB,QAAQC,MAAM,CAAC,KAAO,OAAO,YAAY,GAAG,MAAQR,EAAIS,GAAG,2BAA2B,YAAcT,EAAIS,GAAG,yBAAyBT,EAAIU,GAAIV,EAAIW,UAAU,SAASC,EAAKC,GAAO,MAAO,CAACX,EAAG,SAAS,CAACY,IAAIF,EAAKG,QAAQV,MAAOQ,GAAQb,EAAIW,SAASK,OAAO,EAAG,CAAC,gBAAgB,OAAO,WAAa,UAAU,CAAC,gBAAgB,SAAU,CAACd,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,KAAK,CAACN,EAAG,UAAU,CAACM,MAAM,CAAC,OAAS,QAAQ,aAA0B,WAAbR,EAAI5B,OAAkB,qBAAqB,KAAK,CAAmB,QAAjB4B,EAAIiB,SAAoB,CAACf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGP,EAAKQ,SAAS,QAAQlB,EAAG,OAAO,CAACE,YAAY,iBAAiBC,MAAOO,EAAKS,eAAiBT,EAAKU,MAAQ,EAAI,CAACC,QAAS,gBAAkB,CAACA,QAAS,SAAU,CAACvB,EAAIkB,GAAG,4BAA4BlB,EAAImB,IAAIP,EAAKS,eAAiBT,EAAKU,OAAOE,QAAQ,IAAI,wBAAwBtB,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGP,EAAKa,WAAab,EAAKG,QAAU,aAAab,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACF,EAAIkB,GAAG,OAAOhB,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGP,EAAKU,UAAWV,EAAKU,QAAUV,EAAKS,eAAgBnB,EAAG,IAAI,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGP,EAAKS,mBAAmBrB,EAAI0B,SAASxB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,kBAAkB,CAACM,MAAM,CAAC,oBAAoB,QAAQ,KAAO,QAAQ,IAAM,GAAGmB,GAAG,CAAC,OAAS,SAAAC,GAAK,OAAI5B,EAAI6B,kBAAkBD,EAAOhB,KAAOkB,MAAM,CAACF,MAAO5B,EAAI+B,cAAcC,GAAGnB,GAAOoB,OAAQC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,cAAcC,GAAGnB,GAAQ,SAAUsB,IAAME,WAAW,qCAAqC,MAAM,CAACnC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGP,EAAKQ,SAAS,QAAQlB,EAAG,OAAO,CAACE,YAAY,iBAAiBC,MAAOO,EAAKS,eAAiBT,EAAKU,MAAO,EAAI,CAACC,QAAS,gBAAkB,CAACA,QAAS,SAAU,CAACvB,EAAIkB,GAAG,uBAAuBlB,EAAImB,KAAKP,EAAKS,eAAiBT,EAAKU,OAAOV,EAAKS,eAAiB,KAAKG,QAAQ,IAAI,6BAA6BtB,EAAG,OAAO,CAACE,YAAY,oBAAoBF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACF,EAAIkB,GAAG,OAAOhB,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGP,EAAKU,UAAWV,EAAKU,QAAUV,EAAKS,eAAgBnB,EAAG,IAAI,CAACF,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGP,EAAKS,mBAAmBrB,EAAI0B,SAASxB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,kBAAkB,CAACM,MAAM,CAAC,oBAAoB,QAAQ,KAAO,QAAQ,IAAM,GAAGmB,GAAG,CAAC,OAAS,SAAAC,GAAK,OAAI5B,EAAI6B,kBAAkBD,EAAOhB,KAAOkB,MAAM,CAACF,MAAO5B,EAAI+B,cAAcO,GAAGzB,GAAOoB,OAAQC,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,cAAcO,GAAGzB,GAAQ,SAAUsB,IAAME,WAAW,qCAAqC,OAAO,IAAI,IAAI,OAAMnC,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACJ,EAAIkB,GAAG,eAAelB,EAAImB,GAAGnB,EAAIS,GAAG,yBAAyB,gBAAgBP,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIuC,cAAc,KAAKrC,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIkB,GAAG,cAAchB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACJ,EAAIkB,GAAG,eAAelB,EAAImB,GAAGnB,EAAIS,GAAG,uBAAuB,gBAAgBP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACF,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIwC,WAAW,KAAKtC,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAoB,QAAjBnB,EAAIiB,SAAqB,MAAQ,kBAAkBf,EAAG,YAAY,CAACM,MAAM,CAAC,SAA8B,IAAnBR,EAAIyC,WAAiB,KAAO,WAAWd,GAAG,CAAC,MAAQ3B,EAAI0C,iBAAiB,CAAC1C,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIS,GAAG,2BAA4BT,EAAI2C,QAAU,EAAGzC,EAAG,cAAc,CAACK,YAAY,CAAC,cAAc,QAAQC,MAAM,CAAC,SAA8B,IAAnBR,EAAIyC,YAAkBd,GAAG,CAAC,OAAS3B,EAAI4C,mBAAmBd,MAAM,CAACF,MAAO5B,EAAI6C,WAAYX,SAAS,SAAUC,GAAMnC,EAAI6C,WAAWV,GAAKE,WAAW,eAAe,CAACrC,EAAIkB,GAAG,WAAWlB,EAAImB,GAAGnB,EAAIS,GAAG,uBAAuB,KAAKT,EAAImB,GAAGnB,EAAI2C,SAAS,aAAa3C,EAAI0B,MAAM,IAAI,IAE36HoB,EAAkB,G,orBCwFP,OACfC,eACAhF,KAFA,WAGA,OACA8E,cACAL,YACAG,UACA1B,YACAwB,aACAF,eACA5B,YACAoB,eACAC,MACAM,SAIAU,QAjBA,WAkBA,uBAEAC,cACAC,gBACA,SACA,cAGAC,SACAP,kBADA,WAEA,gBACA,8BACA,iBAEA,iEAGA,gCAGAQ,eAZA,WAYA,WACA7F,iCACA8F,MAAA,YACA,aACA,mBACA,iBACA,wBACA,qCAEA,yCAAAtC,kBAEA,gCACA,sCAAAkB,iBAGA,iBACA,wBACA,qCAEA,yCAAAlB,kBAEA,gCACA,sCAAAkB,mBAIAqB,OAAA,YACAC,mBAGAC,YA1CA,WA2CA,wBAEA3B,kBA7CA,SA6CAD,EAAAhB,GACA,sBAEA6C,cAhDA,WAiDA,QACA,IACA,+BACA,2CACA,aACAC,oBACAtC,0BAIA,2CACA,aACAsC,oBACAtC,0BAIA,kBACA,iBACA,qBAEAuC,kBAtEA,WAsEA,WACA,GACArC,8BACAL,uBACA2C,SACAC,mEACApC,cACAqC,kEAEA,oEACA/F,8BAAA,qBACAA,wCAAA,uBACAF,mCACAwF,MAAA,YACA,gBACA,gBACAU,SACAC,OACAC,eAIA,gBACAlB,mBACAiB,OACA/C,oBACA9C,wBACAsE,uBACAyB,sCAKAZ,OAAA,YACAC,mBAGAb,eA3GA,WA2GA,WACA,2DACAyB,YACAC,6BACAC,uCACAC,4CAEAjB,MAAA,WACA,4BCvOgW,I,wBCQ5VkB,EAAY,eACd,EACAxE,EACA+C,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E,8BCnBf,IAAIC,EAAU,EAAQ,QAClBC,EAAU,EAAQ,QAClBC,EAAQ,EAAQ,QAChBC,EAAS,EAAQ,QACjBC,EAAQ,IAAMD,EAAS,IACvBE,EAAM,KACNC,EAAQC,OAAO,IAAMH,EAAQA,EAAQ,KACrCI,EAAQD,OAAOH,EAAQA,EAAQ,MAE/BK,EAAW,SAAUC,EAAKC,EAAMC,GAClC,IAAIC,EAAM,GACNC,EAAQZ,GAAM,WAChB,QAASC,EAAOO,MAAUL,EAAIK,MAAUL,KAEtCU,EAAKF,EAAIH,GAAOI,EAAQH,EAAKK,GAAQb,EAAOO,GAC5CE,IAAOC,EAAID,GAASG,GACxBf,EAAQA,EAAQrH,EAAIqH,EAAQiB,EAAIH,EAAO,SAAUD,IAM/CG,EAAOP,EAASO,KAAO,SAAUE,EAAQC,GAI3C,OAHAD,EAASE,OAAOnB,EAAQiB,IACb,EAAPC,IAAUD,EAASA,EAAOG,QAAQf,EAAO,KAClC,EAAPa,IAAUD,EAASA,EAAOG,QAAQb,EAAO,KACtCU,GAGT5I,EAAOC,QAAUkI,G,kCC5BjB,IAAIa,EAAS,EAAQ,QACjBC,EAAM,EAAQ,QACdC,EAAM,EAAQ,QACdC,EAAoB,EAAQ,QAC5BC,EAAc,EAAQ,QACtBxB,EAAQ,EAAQ,QAChByB,EAAO,EAAQ,QAAkBzG,EACjC0G,EAAO,EAAQ,QAAkB1G,EACjC2G,EAAK,EAAQ,QAAgB3G,EAC7B4G,EAAQ,EAAQ,QAAkBd,KAClCe,EAAS,SACTC,EAAUV,EAAOS,GACjBE,EAAOD,EACPrH,EAAQqH,EAAQlJ,UAEhBoJ,EAAaV,EAAI,EAAQ,OAAR,CAA4B7G,KAAWoH,EACxDI,EAAO,SAAUf,OAAOtI,UAGxBsJ,EAAW,SAAUC,GACvB,IAAIC,EAAKZ,EAAYW,GAAU,GAC/B,GAAiB,iBAANC,GAAkBA,EAAG9F,OAAS,EAAG,CAC1C8F,EAAKH,EAAOG,EAAGtB,OAASc,EAAMQ,EAAI,GAClC,IACIC,EAAOC,EAAOC,EADdC,EAAQJ,EAAGK,WAAW,GAE1B,GAAc,KAAVD,GAA0B,KAAVA,GAElB,GADAH,EAAQD,EAAGK,WAAW,GACR,KAAVJ,GAA0B,MAAVA,EAAe,OAAOK,SACrC,GAAc,KAAVF,EAAc,CACvB,OAAQJ,EAAGK,WAAW,IACpB,KAAK,GAAI,KAAK,GAAIH,EAAQ,EAAGC,EAAU,GAAI,MAC3C,KAAK,GAAI,KAAK,IAAKD,EAAQ,EAAGC,EAAU,GAAI,MAC5C,QAAS,OAAQH,EAEnB,IAAK,IAAoDO,EAAhDC,EAASR,EAAGS,MAAM,GAAIC,EAAI,EAAGC,EAAIH,EAAOtG,OAAcwG,EAAIC,EAAGD,IAIpE,GAHAH,EAAOC,EAAOH,WAAWK,GAGrBH,EAAO,IAAMA,EAAOJ,EAAS,OAAOG,IACxC,OAAOM,SAASJ,EAAQN,IAE5B,OAAQF,GAGZ,IAAKN,EAAQ,UAAYA,EAAQ,QAAUA,EAAQ,QAAS,CAC1DA,EAAU,SAAgB5E,GACxB,IAAIkF,EAAKa,UAAU3G,OAAS,EAAI,EAAIY,EAChC5E,EAAOiD,KACX,OAAOjD,aAAgBwJ,IAEjBE,EAAahC,GAAM,WAAcvF,EAAMyI,QAAQnI,KAAKzC,MAAYgJ,EAAIhJ,IAASuJ,GAC7EN,EAAkB,IAAIQ,EAAKG,EAASE,IAAM9J,EAAMwJ,GAAWI,EAASE,IAE5E,IAAK,IAMgBhG,EANZ+G,EAAO,EAAQ,QAAoB1B,EAAKM,GAAQ,6KAMvDqB,MAAM,KAAMC,EAAI,EAAQF,EAAK7G,OAAS+G,EAAGA,IACrChC,EAAIU,EAAM3F,EAAM+G,EAAKE,MAAQhC,EAAIS,EAAS1F,IAC5CuF,EAAGG,EAAS1F,EAAKsF,EAAKK,EAAM3F,IAGhC0F,EAAQlJ,UAAY6B,EACpBA,EAAM9B,YAAcmJ,EACpB,EAAQ,OAAR,CAAuBV,EAAQS,EAAQC,K,mBCnEzC1J,EAAOC,QAAU","file":"js/chunk-ca28203a.23f897bd.js","sourcesContent":["var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","import request from '@/utils/request'\n\n// 获取套餐信息\nexport function fetchPackage(uid) {\n    let url = `goods/flow_packet`\n    if (uid) {\n        url = `${url}?uid=${uid}`\n    }\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 获取包年包月套餐信息\nexport function fetchMonthlyPackage(uid) {\n    let url = `goods/monthly_packet`\n    if (uid) {\n        url = `${url}?uid=${uid}`\n    }\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 用户创建订单\nexport function createOrder(userID, data) {\n  return request({\n    url: `order/user_id/${userID}`,\n    method: 'post',\n    data\n  })\n}\n\n// 更新支付状态\nexport function updateCryptoTrade(data) {\n    return request({\n        url: `charge/crypto/trade`,\n        method: 'post',\n        data\n    })\n}\n\n// 获取支付地址\nexport function fetchPayUrl(payMethod, orderID, device) {\n  const origin = location.origin + location.pathname\n  const param = device === 'mobile' ? '&mobile=true' : ''\n  return request({\n    url: `charge/${payMethod}/pay?origin=${origin}&order_id=${orderID}${param}`,\n    method: 'get'\n  })\n}\n\n// 检查支付宝支付状态\nexport function checkAlipayOrder(orderID) {\n  return request({\n    url: `charge/alipay/query?order_id=${orderID}`,\n    method: 'get'\n  })\n}\n\n// 检查paypal支付状态\nexport function checkPaypalOrder(orderID, paymentID, payerID) {\n  return request({\n    url: `charge/paypal/query?order_id=${orderID}&payment_id=${paymentID}&payer_id=${payerID}`,\n    method: 'get'\n  })\n}\n\n// 用户签到\nexport function checkIn(userID, data) {\n  return request({\n    url: `user/user_id/${userID}/checkin`,\n    method: 'post',\n    data\n  })\n}\n\n// 获取开票信息\nexport function getInvoiceInfo(userID) {\n    return request({\n        url: `user/user_id/${userID}/invoice`,\n        method: 'get',\n    })\n}\n\n// 开具发票\nexport function createInvoice(userID, data) {\n    return request({\n        url: `user/user_id/${userID}/invoice`,\n        method: 'post',\n        data\n    })\n}\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./package.vue?vue&type=style&index=0&id=5aaf7008&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"package\",style:(_vm.device === 'mobile' ? {} : {padding: '30px 120px'})},[_c('el-alert',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"info\",\"show-icon\":\"\",\"title\":_vm.$t('package.packageSubTitle'),\"description\":_vm.$t('package.packageSub')}}),_vm._l((_vm.packages),function(item,index){return [_c('el-row',{key:item.subject,style:(index==(_vm.packages.length-1)?{'margin-bottom':'20px','visibility':'hidden'}:{'margin-bottom':'20px'})},[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',{attrs:{\"shadow\":\"never\",\"body-style\":_vm.device==='mobile'?'padding: 20px 10px':''}},[(_vm.currency === 'CNY')?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"item-desc\"},[_c('em',{staticClass:\"shop-card-em\"},[_vm._v(_vm._s(item.traffic)+\"TB\")]),_c('span',{staticClass:\"shop-card-tips\",style:(item.original_price - item.price > 0 ? {display: 'inline-block'} : {display: 'none'})},[_vm._v(\"\\n                  立减 ￥ \"+_vm._s((item.original_price - item.price).toFixed(2))+\"\\n                \")]),_c('span',{staticClass:\"shop-card-txt\"},[_vm._v(_vm._s(item.customized ? item.subject : \"永久有效\"))])]),_c('div',{staticClass:\"item-price\"},[_c('span',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\")]),_c('em',[_vm._v(_vm._s(item.price))]),(item.price !== item.original_price)?_c('s',[_vm._v(\"￥\"+_vm._s(item.original_price))]):_vm._e()])]),_c('div',{staticClass:\"count\"},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"size\":\"small\",\"min\":0},on:{\"change\":value => _vm.selectCountChange(value, item)},model:{value:(_vm.selectPackage.cn[index].amount),callback:function ($$v) {_vm.$set(_vm.selectPackage.cn[index], \"amount\", $$v)},expression:\"selectPackage.cn[index].amount\"}})],1)])]:[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"item-desc\"},[_c('em',{staticClass:\"shop-card-em\"},[_vm._v(_vm._s(item.traffic)+\"TB\")]),_c('span',{staticClass:\"shop-card-tips\",style:(item.original_price - item.price >0 ? {display: 'inline-block'} : {display: 'none'})},[_vm._v(\"\\n                  \"+_vm._s(((item.original_price - item.price)/item.original_price * 100).toFixed(1))+\"% off\\n                \")]),_c('span',{staticClass:\"shop-card-txt\"})]),_c('div',{staticClass:\"item-price\"},[_c('span',{staticClass:\"price\"},[_c('span',[_vm._v(\"$\")]),_c('em',[_vm._v(_vm._s(item.price))]),(item.price !== item.original_price)?_c('s',[_vm._v(\"$\"+_vm._s(item.original_price))]):_vm._e()])]),_c('div',{staticClass:\"count\"},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"size\":\"small\",\"min\":0},on:{\"change\":value => _vm.selectCountChange(value, item)},model:{value:(_vm.selectPackage.en[index].amount),callback:function ($$v) {_vm.$set(_vm.selectPackage.en[index], \"amount\", $$v)},expression:\"selectPackage.en[index].amount\"}})],1)])]],2)],1)],1)]}),_c('div',{staticClass:\"create-order\"},[_c('div',{staticClass:\"buy\"},[_c('div',{staticClass:\"total\"},[_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('package.totalTraffic'))+\"\\n        \")]),_c('div',{staticClass:\"total-traffic\"},[_c('em',[_vm._v(_vm._s(_vm.totalTraffic)+\" \"),_c('span',{staticClass:\"unit\"},[_vm._v(\"TB\")])])])]),_c('div',{staticClass:\"total\"},[_c('div',{staticClass:\"tip\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('package.totalPrice'))+\"\\n        \")]),_c('div',{staticClass:\"total-price\"},[_c('em',[_vm._v(_vm._s(_vm.realPrice)+\" \"),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency === 'CNY' ? 'RMB' : 'USD'))])])])])]),_c('el-button',{attrs:{\"disabled\":_vm.totalPrice === 0,\"type\":\"warning\"},on:{\"click\":_vm.handleBuyClick}},[_vm._v(_vm._s(_vm.$t('package.createOrder')))]),(_vm.balance > 0)?_c('el-checkbox',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"disabled\":_vm.totalPrice === 0},on:{\"change\":_vm.useBalanceChanged},model:{value:(_vm.useBalance),callback:function ($$v) {_vm.useBalance=$$v},expression:\"useBalance\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('package.useBalance'))+\" (\"+_vm._s(_vm.balance)+\")\\n    \")]):_vm._e()],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"package\" :style=\"device === 'mobile' ? {} : {padding: '30px 120px'}\">\n    <!-- 套餐顶部说明 -->\n    <el-alert style=\"margin-bottom: 20px\" type=\"info\" show-icon :title=\"$t('package.packageSubTitle')\" :description=\"$t('package.packageSub')\" />\n\n    <template v-for=\"(item, index) in packages\">\n      <el-row :key=\"item.subject\" :style=\"index==(packages.length-1)?{'margin-bottom':'20px','visibility':'hidden'}:{'margin-bottom':'20px'}\">\n        <el-col :span=\"24\">\n          <el-card shadow=\"never\" :body-style=\"device==='mobile'?'padding: 20px 10px':''\">\n            <template v-if=\"currency === 'CNY'\">\n              <div class=\"container\">\n                <div class=\"item-desc\">\n                  <em class=\"shop-card-em\">{{ item.traffic }}TB</em>\n                  <span class=\"shop-card-tips\" :style=\"item.original_price - item.price > 0 ? {display: 'inline-block'} : {display: 'none'}\">\n                    立减 ￥ {{ (item.original_price - item.price).toFixed(2) }}\n                  </span>\n                  <span class=\"shop-card-txt\">{{ item.customized ? item.subject : \"永久有效\" }}</span>\n                </div>\n                <div class=\"item-price\">\n                  <span class=\"price\">\n                    <span>￥</span>\n                    <em>{{ item.price }}</em>\n                    <s v-if=\"item.price !== item.original_price\">￥{{ item.original_price }}</s>\n                  </span>\n                </div>\n                <div class=\"count\">\n                  <el-input-number v-model=\"selectPackage.cn[index].amount\" controls-position=\"right\" size=\"small\" :min=\"0\" @change=\"value => selectCountChange(value, item)\"></el-input-number>\n                </div>\n              </div>\n            </template>\n\n            <template v-else>\n              <div class=\"container\">\n                <div class=\"item-desc\">\n                  <em class=\"shop-card-em\">{{ item.traffic }}TB</em>\n                  <span class=\"shop-card-tips\" :style=\"item.original_price - item.price >0 ? {display: 'inline-block'} : {display: 'none'}\">\n                    {{((item.original_price - item.price)/item.original_price * 100).toFixed(1)}}% off\n                  </span>\n                  <span class=\"shop-card-txt\"></span>\n                </div>\n                <div class=\"item-price\">\n                  <span class=\"price\">\n                    <span>$</span>\n                    <em>{{ item.price }}</em>\n                    <s v-if=\"item.price !== item.original_price\">${{ item.original_price }}</s>\n                  </span>\n                </div>\n                <div class=\"count\">\n                  <el-input-number v-model=\"selectPackage.en[index].amount\" controls-position=\"right\" size=\"small\" :min=\"0\" @change=\"value => selectCountChange(value, item)\"></el-input-number>\n                </div>\n              </div>\n            </template>\n          </el-card>\n        </el-col>\n      </el-row>\n    </template>\n\n    <div class=\"create-order\">\n      <div class=\"buy\">\n        <div class=\"total\">\n          <div class=\"tip\">\n            {{ $t('package.totalTraffic') }}\n          </div>\n          <div class=\"total-traffic\">\n            <em>{{totalTraffic}} <span class=\"unit\">TB</span></em>\n          </div>\n        </div>\n        <div class=\"total\">\n          <div class=\"tip\">\n            {{ $t('package.totalPrice') }}\n          </div>\n          <div class=\"total-price\">\n            <em>{{ realPrice }} <span class=\"unit\">{{currency === 'CNY' ? 'RMB' : 'USD' }}</span></em>\n          </div>\n        </div>\n      </div>\n      <el-button :disabled=\"totalPrice === 0\" type=\"warning\" @click=\"handleBuyClick\">{{ $t('package.createOrder') }}</el-button>\n      <el-checkbox v-if=\"balance > 0\" :disabled=\"totalPrice === 0\" style=\"margin-left: 10px\" v-model=\"useBalance\" @change=\"useBalanceChanged\">\n        {{ $t('package.useBalance') }} ({{ balance }})\n      </el-checkbox>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { fetchPackage, createOrder } from '@/api/user/package'\nimport { mapGetters } from 'vuex'\nimport { getID } from '@/utils/auth'\n\nexport default {\n  name: 'Package',\n  data() {\n    return {\n      useBalance: false,\n      realPrice: 0,\n      balance: 0,\n      currency: '',\n      totalPrice: 0,\n      totalTraffic: 0,\n      packages: [],\n      selectPackage: {\n        cn: [],\n        en: []\n      }\n    }\n  },\n  mounted() {\n    this.getPackageData()\n  },\n  computed: {\n    ...mapGetters([\n      'device',\n      'language',\n    ])\n  },\n  methods: {\n    useBalanceChanged() {\n      if (this.useBalance) {\n        if (this.balance >= this.totalPrice) {\n          this.realPrice = 0\n        } else {\n          this.realPrice = Number((this.totalPrice - this.balance).toFixed(1))\n        }\n      } else {\n        this.realPrice = this.totalPrice\n      }\n    },\n    getPackageData() {\n      fetchPackage(getID())\n        .then(res => {\n          const { data } = res\n          if(this.language==='zh') {\n            this.currency = 'CNY'\n            this.balance = data.balance_cny\n            this.packages = [...data.list_cn]\n\n            this.packages.push({...data.list_cn[0], subject: 'hide'})\n\n            this.packages.forEach(item => {\n              this.selectPackage.cn.push({...item, amount: 0})\n            })\n          } else {\n            this.currency = 'USD'\n            this.balance = data.balance_usd\n            this.packages = [...data.list_en]\n\n            this.packages.push({...data.list_en[0], subject: 'hide'})\n\n            this.packages.forEach(item => {\n              this.selectPackage.en.push({...item, amount: 0})\n            })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    dialogClose() {\n      this.$router.push('/')\n    },\n    selectCountChange(value, item) {\n      this.getTotalPrice()\n    },\n    getTotalPrice() {\n      let total = 0\n      let traffic = 0\n      if (this.selectPackage.cn.length > 0) {\n        this.selectPackage.cn.forEach(item => {\n          if(item.amount > 0) {\n            total += item.price * item.amount\n            traffic += item.traffic * item.amount\n          }\n        })\n      } else {\n        this.selectPackage.en.forEach(item => {\n          if(item.amount > 0) {\n            total += item.price * item.amount\n            traffic += item.traffic * item.amount\n          }\n        })\n      }\n      this.totalPrice = total\n      this.realPrice = total\n      this.totalTraffic = traffic\n    },\n    handleCreateOrder() {\n      const data = {\n        price: Number(this.totalPrice),\n        currency: this.currency,\n        goods: [],\n        goods_type: this.currency === 'CNY' ? 'flow_packet_cn' : 'flow_packet_en',\n        customized: false,\n        balance_used: Number((this.totalPrice - this.realPrice).toFixed(1)),\n      }\n      const selected = this.currency === 'CNY' ? this.selectPackage.cn : this.selectPackage.en\n      data.goods = selected.filter(item => item.amount > 0)\n      data.customized = data.goods.every(item => item.customized)\n      createOrder(getID(), data)\n        .then(res => {\n          if (res.data.finished) {\n            this.$router.push({\n              path: '/',\n              query: {\n                is_payed: true,\n              }\n            })\n          } else {\n            this.$router.push({\n              name: 'OrderDetail',\n              query: {\n                currency: this.currency,\n                orderID: res.data.order_id,\n                totalPrice: this.realPrice,\n                buyData: JSON.stringify(data.goods)\n              }\n            })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    handleBuyClick() {\n        this.$messageBox.confirm(this.$t('package.comfirmCreate'), {\n            type: 'info',\n            distinguishCancelAndClose: true,\n            confirmButtonText: this.$t('common.ok'),\n            cancelButtonText: this.$t('common.cancel')\n        })\n            .then(() => {\n                this.handleCreateOrder()\n            })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  em {\n    font-style: normal;\n    font-weight: 400;\n  }\n  .package {\n    img {\n      vertical-align: middle;\n      width: 100px;\n      height: auto;\n    }\n  }\n  .container {\n    .item-desc {\n      display: inline-block;\n      width: 33.3%;\n      text-align: left;\n      .shop-card-em {\n        font-size: 24px;\n        color: #333;\n        vertical-align: middle;\n        margin-right: 5px;\n      }\n      .shop-card-txt {\n        display: block;\n        color: #8d99a6;\n        font-size: 14px;\n        padding-top: 3px;\n      }\n      .shop-card-tips {\n        vertical-align: middle;\n        color: #ff7200;\n        border: 1px solid #ff7200;\n        font-size: 12px;\n        line-height: 12px;\n        padding: 2px 5px 1px;\n        border-radius: 2px;\n      }\n    }\n    .item-price {\n      display: inline-block;\n      text-align: right;\n      width: 33.3%;\n      .price {\n        span {\n          vertical-align: top;\n          font-size: 14px;\n          line-height: 14px;\n          margin-right: 3px;\n          color: #ed711f;\n        }\n        em {\n          font-size: 24px;\n          line-height: 24px;\n          color: #ed711f;\n        }\n        s {\n          font-size: 12px;\n          color: #999;\n          display: inline-block;\n        }\n      }\n    }\n    .count {\n      display: inline-block;\n      width: 33.3%;\n      text-align: right;\n    }\n  }\n  .tip {\n    font-size: 14px;\n    display: inline-block;\n    width: 80px;\n    vertical-align: top;\n  }\n  .total-traffic {\n    display: inline-block;\n    color: #0f4de5;\n    vertical-align: top;\n    margin-right: 20px;\n    em {\n      font-size: 25px;\n      line-height: 20px;\n      .unit {\n        font-size: 16px;\n      }\n    }\n  }\n  .total-price {\n    display: inline-block;\n    vertical-align: top;\n    color: #ed711f;\n    em {\n      font-size: 25px;\n      line-height: 20px;\n      .unit {\n        font-size: 16px;\n      }\n    }\n  }\n  .buy {\n    margin-bottom: 12px;\n  }\n  .total {\n    display: inline-block;\n  }\n  .create-order {\n    text-align: left;\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    z-index: 99;\n    background-color: rgb(255, 255, 255);\n    padding: 24px 30px;\n    -webkit-box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./package.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./package.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./package.vue?vue&type=template&id=5aaf7008&scoped=true&\"\nimport script from \"./package.vue?vue&type=script&lang=js&\"\nexport * from \"./package.vue?vue&type=script&lang=js&\"\nimport style0 from \"./package.vue?vue&type=style&index=0&id=5aaf7008&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aaf7008\",\n  null\n  \n)\n\nexport default component.exports","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}