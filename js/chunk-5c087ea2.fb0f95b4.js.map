{"version":3,"sources":["webpack:///./src/views/passwdReset/index.vue","webpack:///src/views/passwdReset/index.vue","webpack:///./src/views/passwdReset/index.vue?5a81","webpack:///./src/views/passwdReset/index.vue?99dd","webpack:///./src/views/passwdReset/index.vue?221a","webpack:///./src/components/SelectZone/index.vue?c4b4","webpack:///./src/views/passwdReset/index.vue?fe33","webpack:///./src/api/captcha.js","webpack:///./src/components/SelectZone/index.vue","webpack:///src/components/SelectZone/index.vue","webpack:///./src/components/SelectZone/index.vue?489d","webpack:///./src/components/SelectZone/index.vue?c7b1"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","resetForm","resetRules","_v","_s","$t","nativeOn","$event","type","indexOf","_k","keyCode","key","onSendCode","apply","arguments","model","value","email","callback","$$v","$set","expression","staticStyle","sendLoading","sendDisabled","preventDefault","Vcode","passwordType","handleSignup","Passwd","on","showPwd","captchaUrl","handleReset","captcha_value","_e","getImage","goLogin","goSignup","resetLoading","staticRenderFns","name","components","LangSelect","SelectZone","data","captcha_id","required","trigger","validator","redirect","int","watch","$route","handler","immediate","methods","getCaptcha","console","resetPasswd","message","path","catch","action","sendCode","sendButtonEnable","_this","time","button","clearInterval","component","last","url","request","method","handleConsoleSelect","style","showRed","color","selectedText","slot","showLocal","selectedZone","mounted","computed","checkSelected","env","command","setItem"],"mappings":"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","file":"js/chunk-5c087ea2.fb0f95b4.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"resetForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.resetForm,\"rules\":_vm.resetRules,\"auto-complete\":\"on\",\"label-position\":\"left\"}},[_c('div',{staticClass:\"title-container\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('passwdReset.title')))]),_c('lang-select',{staticClass:\"set-language\"}),_c('select-zone',{staticClass:\"console\"})],1),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('span',{staticClass:\"svg-container svg-container_login\"},[_c('svg-icon',{attrs:{\"icon-class\":\"user\"}})],1),_c('el-input',{attrs:{\"placeholder\":_vm.$t('passwdReset.email'),\"name\":\"email\",\"type\":\"text\",\"auto-complete\":\"on\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSendCode.apply(null, arguments)}},model:{value:(_vm.resetForm.email),callback:function ($$v) {_vm.$set(_vm.resetForm, \"email\", $$v)},expression:\"resetForm.email\"}})],1),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"30px\"},attrs:{\"id\":\"sendButton\",\"loading\":_vm.sendLoading,\"disabled\":_vm.sendDisabled,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onSendCode.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t('passwdReset.send')))]),_c('el-form-item',{attrs:{\"prop\":\"Vcode\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"icon-class\":\"password\"}})],1),_c('el-input',{attrs:{\"placeholder\":_vm.$t('passwdReset.vcode'),\"name\":\"Vcode\",\"auto-complete\":\"on\"},model:{value:(_vm.resetForm.Vcode),callback:function ($$v) {_vm.$set(_vm.resetForm, \"Vcode\", $$v)},expression:\"resetForm.Vcode\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"Passwd\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"icon-class\":\"password\"}})],1),_c('el-input',{attrs:{\"type\":_vm.passwordType,\"placeholder\":_vm.$t('passwdReset.password'),\"name\":\"Passwd\",\"auto-complete\":\"on\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleSignup.apply(null, arguments)}},model:{value:(_vm.resetForm.Passwd),callback:function ($$v) {_vm.$set(_vm.resetForm, \"Passwd\", $$v)},expression:\"resetForm.Passwd\"}}),_c('span',{staticClass:\"show-pwd\",on:{\"click\":_vm.showPwd}},[_c('svg-icon',{attrs:{\"icon-class\":\"eye\"}})],1)],1),(_vm.captchaUrl)?_c('el-form-item',{attrs:{\"prop\":\"captcha\"}},[_c('span',{staticClass:\"svg-container\"},[_c('svg-icon',{attrs:{\"icon-class\":\"lock\"}})],1),_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('login.code'),\"name\":\"captcha\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleReset.apply(null, arguments)}},model:{value:(_vm.resetForm.captcha_value),callback:function ($$v) {_vm.$set(_vm.resetForm, \"captcha_value\", $$v)},expression:\"resetForm.captcha_value\"}})],1):_vm._e(),_c('img',{attrs:{\"src\":_vm.captchaUrl},on:{\"click\":_vm.getImage}}),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('a',{staticStyle:{\"color\":\"#eee\"},on:{\"click\":_vm.goLogin}},[_vm._v(_vm._s(_vm.$t('auth.login')))]),_c('a',{staticStyle:{\"color\":\"#eee\"},on:{\"click\":_vm.goSignup}},[_vm._v(_vm._s(_vm.$t('auth.signup')))])]),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin\":\"20px 0\"},attrs:{\"loading\":_vm.resetLoading,\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleReset.apply(null, arguments)}}},[_vm._v(_vm._s(_vm.$t('passwdReset.submit')))])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-container\">\n    <el-form ref=\"resetForm\" :model=\"resetForm\" :rules=\"resetRules\" class=\"login-form\" auto-complete=\"on\" label-position=\"left\">\n      <div class=\"title-container\">\n        <h3 class=\"title\">{{ $t('passwdReset.title') }}</h3>\n        <lang-select class=\"set-language\"/>\n        <select-zone class=\"console\"></select-zone>\n      </div>\n\n      <el-form-item prop=\"email\">\n        <span class=\"svg-container svg-container_login\">\n          <svg-icon icon-class=\"user\" />\n        </span>\n        <el-input\n          v-model=\"resetForm.email\"\n          :placeholder=\"$t('passwdReset.email')\"\n          name=\"email\"\n          type=\"text\"\n          auto-complete=\"on\"\n          @keyup.enter.native=\"onSendCode\" />\n      </el-form-item>\n\n      <el-button id=\"sendButton\" :loading=\"sendLoading\" :disabled=\"sendDisabled\" type=\"primary\" style=\"width:100%;margin-bottom:30px;\" @click.native.prevent=\"onSendCode\">{{ $t('passwdReset.send') }}</el-button>\n\n      <el-form-item prop=\"Vcode\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"password\" />\n        </span>\n        <el-input\n          v-model=\"resetForm.Vcode\"\n          :placeholder=\"$t('passwdReset.vcode')\"\n          name=\"Vcode\"\n          auto-complete=\"on\" />\n      </el-form-item>\n\n\n      <el-form-item prop=\"Passwd\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"password\" />\n        </span>\n        <el-input\n          :type=\"passwordType\"\n          v-model=\"resetForm.Passwd\"\n          :placeholder=\"$t('passwdReset.password')\"\n          name=\"Passwd\"\n          auto-complete=\"on\"\n          @keyup.enter.native=\"handleSignup\" />\n        <span class=\"show-pwd\" @click=\"showPwd\">\n          <svg-icon icon-class=\"eye\" />\n        </span>\n      </el-form-item>\n\n      <el-form-item prop=\"captcha\" v-if=\"captchaUrl\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"lock\" />\n        </span>\n        <el-input\n            type=\"text\"\n            v-model=\"resetForm.captcha_value\"\n            :placeholder=\"$t('login.code')\"\n            name=\"captcha\"\n            @keyup.enter.native=\"handleReset\" />\n      </el-form-item>\n      <img :src=\"captchaUrl\" @click=\"getImage\"/>\n\n      <el-row type=\"flex\" justify=\"space-between\">\n        <a @click=\"goLogin\" style=\"color:#eee\">{{ $t('auth.login') }}</a>\n        <a @click=\"goSignup\" style=\"color:#eee\">{{ $t('auth.signup') }}</a>\n      </el-row>\n\n      <el-button :loading=\"resetLoading\" type=\"primary\" style=\"width:100%;margin:20px 0;\" @click.native.prevent=\"handleReset\">{{ $t('passwdReset.submit') }}</el-button>\n\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { validateEmail } from '@/utils/validate'\nimport { sendCode, resetPasswd } from '@/api/auth'\nimport SelectZone from '@/components/SelectZone'\nimport LangSelect from '@/components/LangSelect'\nimport {checkSelectZone } from '@/utils'\nimport { getCaptcha } from '@/api/captcha'\n\nexport default {\n  name: 'PasswdReset',\n  components: { LangSelect, SelectZone },\n  data() {\n    const formValidateMail = (rule, value, callback) => {\n      if (!validateEmail(value)) {\n        const error = this.$t('auth.mailError')\n        callback(new Error(error))\n      } else {\n        callback()\n      }\n    }\n    const validatePassword = (rule, value, callback) => {\n      if (value.length < 6 || value.length > 64) {\n        const error = this.$t('auth.passwdError')\n        callback(new Error(error))\n      } else {\n        callback()\n      }\n    }\n    const validateVCode = (rule, value, callback) => {\n      if (value.length < 4) {\n        const error = this.$t('auth.vcodeError')\n        callback(new Error(error))\n      } else {\n        callback()\n      }\n    }\n    return {\n      resetForm: {\n        email: '',\n        Passwd: '',\n        Vcode: '',\n        captcha_id: '',\n        captcha_value: '',\n      },\n      resetRules: {\n        email: [{ required: true, trigger: 'blur', validator: formValidateMail }],\n        Passwd: [{ required: true, trigger: 'blur', validator: validatePassword }],\n        Vcode: [{ required: true, trigger: 'blur', validator: validateVCode }],\n      },\n      passwordType: 'password',\n      resetLoading: false,\n      sendLoading: false,\n      sendDisabled: false,\n      redirect: undefined,\n      int: undefined,\n      captchaUrl: '',\n    }\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    getImage() {\n      // 获取验证码\n      getCaptcha(this.resetForm.captcha_id).then(res => {\n        const { data } = res\n        if (data) {\n          this.resetForm.captcha_id = data.captcha_id\n          this.captchaUrl = data.captcha_url\n        }\n      })\n    },\n    showPwd() {\n      if (this.passwordType === 'password') {\n        this.passwordType = ''\n      } else {\n        this.passwordType = 'password'\n      }\n    },\n    handleReset() {\n      if (!checkSelectZone()) return\n      this.$refs.resetForm.validate(valid => {\n        if (valid) {\n          this.resetLoading = true\n          resetPasswd(this.resetForm).then(() => {\n            this.resetLoading = false\n            const message = this.$t('passwdReset.successTitle')\n            this.$message({\n              message,\n              type: 'success'\n            })\n            this.$router.push({ path: '/login' })\n          }).catch(msg => {\n            this.resetLoading = false\n            if (msg.code === 4005 || msg.code === 4019) {\n              this.getImage()\n            }\n          })\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    onSendCode() {\n      if (!checkSelectZone()) return\n      const { email } = this.resetForm\n      if(email) {\n        if(validateEmail(email)) {\n          const data = {\n            email,\n            action: 'passwd_forget'\n          }\n          this.sendLoading = true\n          sendCode(data).then((res) => {\n            this.sendLoading = false\n            const message = this.$t('auth.sendTitle')\n            this.$message({\n              message,\n              type: 'success'\n            })\n            this.sendButtonEnable()\n          }).catch((error) => {\n            this.sendLoading = false\n          })\n        } else {\n          const error = this.$t('auth.mailError')\n          this.$message.error(error)\n        }\n      } else {\n        const error = this.$t('auth.mailError')\n        this.$message.error(error)\n      }\n    },\n    goLogin() {\n      this.$router.push({ path: '/login' })\n    },\n    goSignup() {\n      this.$router.push({ path: '/signup' })\n    },\n    sendButtonEnable() {\n      let time = 300\n      let button = document.getElementById('sendButton')\n      const _this = this\n      _this.int = setInterval(() => {\n        _this.sendDisabled = true\n        time --\n        if(time > 0) {\n          button.innerHTML = time + ' S'\n        } else {\n          button.innerHTML = _this.$t('signup.send')\n          _this.sendDisabled = false\n          clearInterval(_this.int)\n          _this.int = undefined\n        }\n      }, 1000)\n    }\n  }\n}\n</script>\n\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n  /* 修复input 背景不协调 和光标变色 */\n  /* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n  $bg:#283443;\n  $light_gray:#eee;\n  $cursor: #fff;\n\n  @supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .login-container .el-input input{\n      color: $cursor;\n      &::first-line {\n        color: $light_gray;\n      }\n    }\n  }\n\n  /* reset element-ui css */\n  .login-container {\n    .el-input {\n      display: inline-block;\n      height: 47px;\n      width: 85%;\n      input {\n        background: transparent;\n        border: 0px;\n        -webkit-appearance: none;\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: $light_gray;\n        height: 47px;\n        caret-color: $cursor;\n        &:-webkit-autofill {\n          -webkit-box-shadow: 0 0 0px 1000px $bg inset !important;\n          -webkit-text-fill-color: $cursor !important;\n        }\n      }\n    }\n    .el-form-item {\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      color: #454545;\n    }\n  }\n</style>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n$bg:#2d3a4b;\n$dark_gray:#889aa4;\n$light_gray:#eee;\n\n.login-container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: $bg;\n  .login-form {\n    position: absolute;\n    left: 0;\n    right: 0;\n    width: 520px;\n    max-width: 100%;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n  }\n  .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: $dark_gray;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n    &_login {\n      font-size: 20px;\n    }\n  }\n  .title-container {\n    position: relative;\n    .title {\n      font-size: 26px;\n      color: $light_gray;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n    }\n    .set-language {\n      color: #fff;\n      position: absolute;\n      top: 5px;\n      right: 0px;\n    }\n    .console {\n      color: #fff;\n      position: absolute;\n      top: 10px;\n      left: 0px;\n    }\n  }\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: $dark_gray;\n    cursor: pointer;\n    user-select: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0da5308c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0da5308c&prod&rel=stylesheet%2Fscss&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=0da5308c&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0da5308c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=0da5308c&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7d7769b8&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0da5308c&prod&rel=stylesheet%2Fscss&lang=scss&\"","import request from '@/utils/request'\n\nexport function getCaptcha(last) {\n    let url = `captcha`\n    if (last) {\n        url = `${url}?last=${last}`\n    }\n    return request({\n        url,\n        method: 'get',\n    })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dropdown',{attrs:{\"hide-on-click\":false},on:{\"command\":_vm.handleConsoleSelect}},[_c('span',{staticClass:\"el-dropdown-link\",style:(_vm.showRed === true ? {color: '#f56c6c'} : '')},[_vm._v(\"\\n          \"+_vm._s(_vm.selectedText)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"p1\"}},[_vm._v(_vm._s(_vm.$t('auth.consoleEU')))]),_c('el-dropdown-item',{attrs:{\"command\":\"p3\"}},[_vm._v(_vm._s(_vm.$t('auth.consoleHK')))]),_c('el-dropdown-item',{attrs:{\"command\":\"p2\"}},[_vm._v(_vm._s(_vm.$t('auth.consoleUSA')))]),(_vm.showLocal)?_c('el-dropdown-item',{attrs:{\"command\":\"d1\"}},[_vm._v(\"Localhost\")]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dropdown @command=\"handleConsoleSelect\" :hide-on-click=\"false\">\n          <span class=\"el-dropdown-link\" :style=\"showRed === true ? {color: '#f56c6c'} : ''\">\n            {{ selectedText }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n    <el-dropdown-menu slot=\"dropdown\">\n      <el-dropdown-item command=\"p1\" >{{ $t('auth.consoleEU') }}</el-dropdown-item>\n      <el-dropdown-item command=\"p3\" >{{ $t('auth.consoleHK') }}</el-dropdown-item>\n      <el-dropdown-item command=\"p2\" >{{ $t('auth.consoleUSA') }}</el-dropdown-item>\n      <el-dropdown-item v-if=\"showLocal\" command=\"d1\" >Localhost</el-dropdown-item>\n    </el-dropdown-menu>\n  </el-dropdown>\n</template>\n\n<script>\nimport { LOCATION, BASE_URLS } from '@/constant'\nimport { getItem, setItem } from '@/utils/storage'\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"SelectZone\",\n  data() {\n    return {\n      selectedZone: '',\n      showRed: false,\n      showLocal: false,\n    }\n  },\n  mounted() {\n    this.checkSelected()\n    if (location.hostname === 'localhost') {\n      this.showLocal = true\n    }\n  },\n  computed: {\n    selectedText() {\n      this.checkSelected()\n      return this.selectedZone || this.$t('auth.console')\n    }\n  },\n  methods: {\n    checkSelected(env) {\n      // this.selectedZone = this.$t('auth.console')\n      this.showRed = false\n      if (!env) {\n        env = getItem(LOCATION)\n      }\n      if (env === 'p1') {\n        this.selectedZone = this.$t('navbar.currZone') + this.$t('auth.consoleEU')\n      } else if (env === 'p3') {\n        this.selectedZone = this.$t('navbar.currZone') + this.$t('auth.consoleHK')\n      } else if (env === 'p2') {\n        this.selectedZone = this.$t('navbar.currZone') + this.$t('auth.consoleUSA')\n      } else if (env === 'd1') {\n        this.selectedZone = this.$t('navbar.currZone') + \"local\"\n      } else {\n        this.showRed = true\n      }\n    },\n    handleConsoleSelect(command) {\n      this.checkSelected(command)\n      request.defaults.baseURL = BASE_URLS[command]\n      setItem(LOCATION, command)\n    },\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.el-dropdown-link {\n  cursor: pointer;\n  /*color: #409EFF;*/\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7d7769b8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7d7769b8&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d7769b8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}