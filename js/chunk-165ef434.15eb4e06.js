(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-165ef434"],{"284a":function(t,n,e){"use strict";e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return a})),e.d(n,"b",(function(){return c})),e.d(n,"a",(function(){return u})),e.d(n,"e",(function(){return i}));var r=e("b775");function o(){return Object(r["a"])({url:"global/livetime",method:"get"})}function a(){return Object(r["a"])({url:"global/overall",method:"get"})}function c(t,n){var e="global/num?type=".concat(t);return n&&n.country&&(e="".concat(e,"&country=").concat(n.country)),Object(r["a"])({url:e,method:"get"})}function u(t,n){var e="global/channel?page=".concat(t,"&page_size=").concat(n);return Object(r["a"])({url:e,method:"get"})}function i(t){var n="global/channel/split";return Object(r["a"])({url:n,method:"post",data:t})}},"417d":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[n(t.currentRole,{tag:"component",attrs:{countryData:t.countryData,total:t.total}})],1)},o=[],a=(e("8e6e"),e("ac6a"),e("456d"),e("6762"),e("2fdb"),e("bd86")),c=e("2f62"),u=function(){var t=this,n=t._self._c;return n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("vuevectormap",{ref:"jvm",attrs:{width:"100%",height:"900px",markers:t.markers,markerStyle:t.markerStyle,visualizeData:t.visualizeData},on:{loaded:t.loaded,regionTooltipShow:t.regionTooltipShow}})],1)},i=[],l=(e("ac4d"),e("8a81"),e("5df3"),e("1c4c"),e("6b54"),e("7f7f"),e("c5f6"),e("5d2d")),d=e("267e");function s(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=f(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==e.return||e.return()}finally{if(u)throw a}}}}function f(t,n){if(t){if("string"===typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var m={name:"WorldMap",props:{countryData:{type:Array,required:!0},total:{type:Number,required:!0}},data:function(){return{markerStyle:{initial:{fill:"#ff4551"}},values:{}}},computed:{markers:function(){var t=Object(l["a"])(d["c"]),n="Tracker";return"p1"===t?[{name:n,coords:[50.11,8.682]}]:"p3"===t?[{name:n,coords:[22.319,114.169]}]:"p2"===t?[{name:n,coords:[39.046,-77.49]}]:[]},visualizeData:function(){var t,n=s(this.countryData);try{for(n.s();!(t=n.n()).done;){var e=t.value,r=e.name,o=e.value;this.values[r]=o}}catch(a){n.e(a)}finally{n.f()}return{scale:["#d6dbe2","#0b51d2"],values:this.values}}},mounted:function(){this.map=this.$refs.jvm.map},methods:{loaded:function(t){window.addEventListener("resize",(function(){t.updateSize()}))},regionTooltipShow:function(t,n,e){if(this.values[e]&&0!==this.total){var r=this.values[e];n.text("<p>".concat(n.text(),": ").concat(r,"</p>")+"<p>Percent: ".concat((r/this.total*100).toFixed(2),"%</p>"),!0)}}}},b=m,h=e("2877"),v=Object(h["a"])(b,u,i,!1,null,null,null),y=v.exports,g=e("8595"),O=e("284a"),j=e("5f87");function w(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function D(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?w(Object(e),!0).forEach((function(n){Object(a["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var S={name:"World",components:{WorldMap:y},data:function(){return{currentRole:"",loading:!0,countryData:[],total:0}},mounted:function(){this.fetchData()},computed:D({},Object(c["b"])(["roles","currentDomain"])),methods:{fetchData:function(){var t=this;this.roles.includes("admin")?Object(O["b"])("country").then((function(n){var e=n.data;e&&(t.total=e.total,t.countryData=e.data,t.loading=!1,t.currentRole="WorldMap")})).catch((function(n){console.log(n),t.loading=!1})):Object(g["b"])(Object(j["a"])(),this.$route.meta.global?0:this.currentDomain.id,"country").then((function(n){var e=n.data;e&&(t.total=e.total,e.data&&(t.countryData=e.data),t.loading=!1,t.currentRole="WorldMap")})).catch((function(n){console.log(n),t.loading=!1}))}}},_=S,k=Object(h["a"])(_,r,o,!1,null,null,null);n["default"]=k.exports},8595:function(t,n,e){"use strict";e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return c})),e.d(n,"d",(function(){return u}));var r=e("b775");function o(t,n,e){var o="user/user_id/".concat(t,"/domain/domain_id/").concat(n);return e&&(o="".concat(o,"?host_id=").concat(e)),Object(r["a"])({url:o,method:"get"})}function a(t,n,e,o,a){var c="user/user_id/".concat(t,"/domain/domain_id/").concat(n,"/num?type=").concat(e);return o&&(c="".concat(c,"&host_id=").concat(o)),a&&(c="".concat(c,"&lang=").concat(a)),Object(r["a"])({url:c,method:"get"})}function c(t,n,e,o){var a="user/user_id/".concat(t,"/domain/domain_id/").concat(n,"/num?type=").concat(e);return o&&(a="".concat(a,"&country=").concat(o)),Object(r["a"])({url:a,method:"get"})}function u(t,n,e){var o="user/user_id/".concat(t,"/channel?page=").concat(n,"&page_size=").concat(e);return Object(r["a"])({url:o,method:"get"})}}}]);