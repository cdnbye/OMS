{"version":3,"sources":["webpack:///./src/views/dashboard/admin/liveData.vue?78f0","webpack:///./src/views/dashboard/user/Distribution.vue?46d6","webpack:///./src/views/dashboard/user/liveData.vue","webpack:///src/views/dashboard/user/liveData.vue","webpack:///./src/views/dashboard/user/liveData.vue?431e","webpack:///./src/views/dashboard/user/liveData.vue?6b77","webpack:///./src/views/dashboard/user/Distribution.vue","webpack:///src/views/dashboard/user/Distribution.vue","webpack:///./src/views/dashboard/user/Distribution.vue?154b","webpack:///./src/views/dashboard/user/Distribution.vue?a959","webpack:///./src/api/liveData.js","webpack:///./src/views/dashboard/liveData.vue","webpack:///./src/views/dashboard/admin/liveData.vue","webpack:///./src/views/dashboard/admin/components/PanelGroup.vue","webpack:///src/views/dashboard/admin/components/PanelGroup.vue","webpack:///./src/views/dashboard/admin/components/PanelGroup.vue?c4fb","webpack:///./src/views/dashboard/admin/components/PanelGroup.vue?7cd1","webpack:///src/views/dashboard/admin/liveData.vue","webpack:///./src/views/dashboard/admin/liveData.vue?9a23","webpack:///./src/views/dashboard/admin/liveData.vue?a96d","webpack:///src/views/dashboard/liveData.vue","webpack:///./src/views/dashboard/liveData.vue?da6d","webpack:///./src/views/dashboard/liveData.vue?cb6c","webpack:///./src/views/dashboard/admin/components/PanelGroup.vue?269d","webpack:///./src/views/dashboard/user/liveData.vue?167b"],"names":["render","_vm","this","_c","_self","staticClass","attrs","$t","statis","disData","staticRenderFns","name","components","Dis","NoBindTip","LiveTime","data","remainTrafficFlag","whiteList","type","product_type","time","online","traffic_p2p","num","unit","traffic_http","traffic_share","frequency_day","num_max","rebuffer_ratio","flow","remain","daily_remain","totalRemain","free","utc","clock","traffic_p2p_day","traffic_http_day","versionData","tagData","deviceData","liveData","netTypeData","natTypeData","computed","mapGetters","watch","currentDomain","clearInterval","mounted","store","beforeDestroy","methods","formatTraffic","getData","uid","id","hostId","fetchGlobalData","then","distinguishCancelAndClose","confirmButtonText","cancelButtonText","catch","action","console","getDisData","hostID","fetchDisData","loopGetData","timer","getUserDomain","component","native","_e","PieCard","props","required","default","fetchLiveTimeData","request","url","method","fetchOverallData","fetchLiveData","opts","country","fetchHotChannels","page","pageSize","splitHotChannels","currentRole","tag","bandwidth_p2p","bandwidth_http","p2p_rate","bandwidth_share","shareEfficiency","hostNum","max_online","num_channel","num_tracker","Card","created","destroyed","get","fetchHostNum","PanelGroup","adminDashboard","userDashboard"],"mappings":"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","file":"js/chunk-547b405c.1dd29b51.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=style&index=0&id=7f88ce00&prod&rel=stylesheet%2Fscss&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Distribution.vue?vue&type=style&index=0&id=60c29b32&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-realtime-container\"},[_c('el-alert',{attrs:{\"title\":_vm.$t('domainTable.title'),\"description\":_vm.$t('dashboard.descPerApp'),\"type\":\"info\",\"show-icon\":\"\"}}),_c('LiveTime',{attrs:{\"statis\":_vm.statis}}),_c('Dis',{attrs:{\"data\":_vm.disData}}),_c('NoBindTip')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dashboard-realtime-container\">\n    <el-alert\n        :title=\"$t('domainTable.title')\"\n        :description=\"$t('dashboard.descPerApp')\"\n        type=\"info\"\n        show-icon>\n    </el-alert>\n    <LiveTime :statis=\"statis\"></LiveTime>\n    <Dis :data=\"disData\"/>\n    <NoBindTip />\n  </div>\n\n</template>\n\n<script>\nimport store from '@/store'\nimport { mapGetters } from 'vuex'\nimport { fetchGlobalData, fetchDisData } from '@/api/user/liveData'\nimport { formatTraffic, formatPieData } from '@/utils/format'\nimport NoBindTip from '@/components/NoBindTip'\nimport Dis from './Distribution'\nimport LiveTime from './LiveTime'\n\nlet timer = undefined\n\nexport default {\n  name: 'liveData',\n  components: {\n    Dis,\n    NoBindTip,\n    LiveTime,\n  },\n  data() {\n    return {\n      remainTrafficFlag: true,\n      statis: {\n        whiteList: false,\n        type: {\n          product_type: 0,\n          time: ''\n        },\n        online: 0,\n        traffic_p2p: {\n          num: 0,\n          unit: 'KB'\n        },\n        traffic_http: {\n          num: 0,\n          unit: 'KB'\n        },\n        traffic_share: {\n          num: 0,\n          unit: 'KB'\n        },\n        frequency_day: 0,\n        num_max: 0,\n        rebuffer_ratio: -1,\n        flow: {\n          remain: 0,\n          daily_remain: 0,\n          totalRemain: 0,\n          free: {\n            num: 0,\n            unit: 'KB'\n          },\n          utc: 0,\n        },\n        clock: null,\n        traffic_p2p_day: 0,\n        traffic_http_day: 0,\n      },\n      disData: {\n        versionData: [],\n        tagData: [],\n        deviceData: [],\n        liveData: [],\n        netTypeData: [],\n        // ispData: [],\n        natTypeData:[],\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'currentDomain',\n      'device',\n      'language'\n    ])\n  },\n  watch: {\n    currentDomain: function () {\n      if (!this.$route.params.hostId) {\n        clearInterval(timer)\n        this.getUserDomain()\n      }\n\n    }\n  },\n  mounted() {\n    this.$store.dispatch('toggleSwitchDomain', true)\n    // console.warn(`hostId ${this.$route.params.hostId}`)\n    const domainInfo = this.$route.params.domainInfo;\n    if(domainInfo && domainInfo.id && domainInfo.uid) {\n      this.loopGetData(domainInfo.uid, domainInfo.id, this.$route.params.hostId)\n      this.getDisData(domainInfo.uid, domainInfo.id, this.$route.params.hostId)\n      store.dispatch('setCurrentDomain', domainInfo)\n    } else {\n      this.getUserDomain()\n    }\n  },\n  beforeDestroy() {\n    clearInterval(timer)\n    this.$store.dispatch('toggleSwitchDomain', false)\n  },\n  methods: {\n    formatTraffic,\n    getData(uid, id, hostId) {\n      fetchGlobalData(uid, id, hostId)\n        .then(res => {\n          const { data } = res\n          this.statis.online = data.num_rt\n          this.statis.traffic_p2p_day = data.traffic_p2p_day\n          this.statis.traffic_http_day = data.traffic_http_day\n          this.statis.traffic_p2p = formatTraffic(data.traffic_p2p_day)\n          this.statis.traffic_http = formatTraffic(data.traffic_http_day)\n          this.statis.traffic_share = formatTraffic(data.traffic_share_day)\n          this.statis.frequency_day = data.api_frequency_day\n          if (data.total_rebuffers !== 0 && data.total_media_requests !== 0) {\n            this.statis.rebuffer_ratio = data.total_rebuffers/data.total_media_requests\n          } else {\n            this.statis.rebuffer_ratio = -1\n          }\n          this.statis.num_max = data.num_max\n          this.statis.flow.remain = data.flow.remain\n          this.statis.flow.daily_remain = data.flow.daily_remain\n          this.statis.flow.totalRemain = data.flow.daily_remain + data.flow.remain\n          this.statis.flow.free = formatTraffic(data.flow.free)\n          this.statis.flow.utc = data.flow.utc\n          this.statis.whiteList = data.whitelist\n          this.statis.type.product_type = data.flow.product_type\n          this.statis.type.time = data.flow.duetime\n          this.statis.clock = data.clock\n\n          // 如果剩余流量为0，则提醒用户购买\n          if(data.flow.free === 0 && data.flow.remain === 0 && data.flow.daily_remain === 0) {\n            if(this.remainTrafficFlag && !data.whitelist) {\n              this.$messageBox.confirm(this.$t('dashboard.trafficUseOut'), {\n                distinguishCancelAndClose: true,\n                confirmButtonText: this.$t('package.buyFlow'),\n                cancelButtonText: this.$t('package.buyMonthly')\n              })\n                .then(() => {\n                  this.$router.push('/shopping/package')\n                })\n                .catch(action => {\n                   action === 'cancel'\n                   ? this.$router.push('/shopping/monthly_package')\n                   : console.log('-')\n                })\n              this.remainTrafficFlag = false\n            }\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    getDisData(uid, id, hostID) {\n        if (id < 0) return\n        fetchDisData(uid, id, 'version', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n            this.disData.versionData = formatPieData(data)\n          } else {\n              this.disData.versionData = [];\n          }\n        })\n        fetchDisData(uid, id, 'tag', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n            this.disData.tagData = formatPieData(data)\n          } else {\n              this.disData.tagData = [];\n          }\n        })\n        fetchDisData(uid, id, 'device', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n            this.disData.deviceData = formatPieData(data)\n          } else {\n              this.disData.deviceData = [];\n          }\n        })\n        fetchDisData(uid, id, 'live', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n            this.disData.liveData = formatPieData(data)\n          } else {\n              this.disData.liveData = [];\n          }\n        })\n        fetchDisData(uid, id, 'netType', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n            this.disData.netTypeData = formatPieData(data)\n          } else {\n              this.disData.netTypeData = [];\n          }\n        })\n        // fetchDisData(uid, id, 'isp', hostID, this.language === 'en'?'en':'').then(res => {\n        //   const data = res.data.data\n        //   if(data) {\n        //       this.disData.ispData = formatPieData(data)\n        //   } else {\n        //       this.disData.ispData = [];\n        //   }\n        // })\n        fetchDisData(uid, id, 'nat', hostID).then(res => {\n          const data = res.data.data\n          if(data) {\n              this.disData.natTypeData = formatPieData(data)\n          } else {\n              this.disData.natTypeData = [];\n          }\n        })\n    },\n    loopGetData(uid, id, hostId) {\n      this.getData(uid, id, hostId)\n      clearInterval(timer)\n      timer = setInterval(() => {\n        this.getData(uid, id, hostId)\n      }, 20000)\n    },\n    getUserDomain() {\n      if(this.currentDomain.id) {\n        this.loopGetData(this.currentDomain.uid, this.currentDomain.id)\n        this.getDisData(this.currentDomain.uid, this.currentDomain.id)\n      }\n    }\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n.dashboard-realtime-container {\n  padding: 4px 25px;\n  background-color: rgb(240, 242, 245);\n  min-height: calc(100vh - 84px);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./liveData.vue?vue&type=template&id=56e3e154&\"\nimport script from \"./liveData.vue?vue&type=script&lang=js&\"\nexport * from \"./liveData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./liveData.vue?vue&type=style&index=0&id=56e3e154&prod&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.versionDis'),\"data\":_vm.data.versionData}})],1),_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.tagDis'),\"data\":_vm.data.tagData}})],1),(_vm.currentDomain.native === false)?_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.terminalDis'),\"data\":_vm.data.deviceData}})],1):_vm._e(),_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.liveDis'),\"data\":_vm.data.liveData}})],1),_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.netDis'),\"data\":_vm.data.netTypeData}})],1),(_vm.currentDomain.native)?_c('el-col',{staticClass:\"chart-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('pie-card',{attrs:{\"title\":_vm.$t('dashboard.natDis'),\"data\":_vm.data.natTypeData}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row :gutter=\"20\">\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.versionDis')\" :data=\"data.versionData\"/>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.tagDis')\" :data=\"data.tagData\"/>\n    </el-col>\n\n    <el-col v-if=\"currentDomain.native === false\" :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.terminalDis')\" :data=\"data.deviceData\"/>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.liveDis')\" :data=\"data.liveData\"/>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.netDis')\" :data=\"data.netTypeData\"/>\n    </el-col>\n\n<!--    <el-col :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">-->\n<!--      <pie-card :title=\"$t('dashboard.ispDis')\" :data=\"data.ispData\"/>-->\n<!--    </el-col>-->\n\n    <el-col v-if=\"currentDomain.native\" :xs=\"24\" :sm=\"12\" :lg=\"8\" class=\"chart-col\">\n      <pie-card :title=\"$t('dashboard.natDis')\" :data=\"data.natTypeData\"/>\n    </el-col>\n\n  </el-row>\n</template>\n\n<script>\nimport PieCard from '@/components/PieCard'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Distribution',\n  components: {\n    PieCard\n  },\n  computed: {\n      ...mapGetters([\n          'currentDomain',\n      ])\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true,\n      default: {\n        versionData: [],\n        tagData: [],\n        deviceData: [],\n        liveData: [],\n        netTypeData: [],\n        // ispData: [],\n        natTypeData: [],\n      }\n    }\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.chart-col {\n  margin-bottom: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Distribution.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Distribution.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Distribution.vue?vue&type=template&id=60c29b32&scoped=true&\"\nimport script from \"./Distribution.vue?vue&type=script&lang=js&\"\nexport * from \"./Distribution.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Distribution.vue?vue&type=style&index=0&id=60c29b32&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60c29b32\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\n// 全局数据接口\nexport function fetchGlobalData() {\n  return request({\n    url: 'global',\n    method: 'get',\n  })\n}\n\n// livetime接口\nexport function fetchLiveTimeData() {\n    return request({\n        url: 'global/livetime',\n        method: 'get',\n    })\n}\n\n// overall接口\nexport function fetchOverallData() {\n    return request({\n        url: 'global/overall',\n        method: 'get',\n    })\n}\n\nexport function fetchLiveData(type, opts) {\n    let url =`global/num?type=${type}`\n    if (opts && opts.country) {\n        url = `${url}&country=${opts.country}`\n    }\n    return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 全局热门频道\nexport function fetchHotChannels(page, pageSize) {\n    let url = `global/channel?page=${page}&page_size=${pageSize}`\n    return request({\n        url,\n        method: 'get'\n    })\n}\n\n// 全局热门频道拆分\nexport function splitHotChannels(data) {\n    let url = `global/channel/split`\n    return request({\n        url,\n        method: 'post',\n        data,\n    })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-container\"},[_c(_vm.currentRole,{tag:\"component\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-editor-container\"},[_c('PanelGroup')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-row',{staticClass:\"panel-group\",attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.online,\"duration\":500,\"desc\":\"当前在线人数\",\"color\":_vm.statis.online > 500000 ? 'red' : ''}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.bandwidth_p2p.num,\"duration\":500,\"decimals\":2,\"desc\":`当前P2P带宽(${_vm.statis.bandwidth_p2p.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.bandwidth_http.num,\"duration\":500,\"decimals\":2,\"desc\":`当前HTTP带宽(${_vm.statis.bandwidth_http.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.p2p_rate,\"duration\":500,\"decimals\":2,\"desc\":\"当前P2P效率(%)\",\"color\":_vm.statis.p2p_rate < 30 ? 'red' : ''}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.bandwidth_share.num,\"duration\":500,\"decimals\":2,\"desc\":`当前上行带宽(${_vm.statis.bandwidth_http.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.traffic_p2p.num,\"duration\":500,\"decimals\":2,\"desc\":`今日P2P流量(${_vm.statis.traffic_p2p.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.traffic_http.num,\"duration\":500,\"decimals\":2,\"desc\":`今日HTTP流量(${_vm.statis.traffic_http.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.traffic_share.num,\"duration\":500,\"decimals\":2,\"desc\":`今日上行流量(${_vm.statis.traffic_http.unit})`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.shareEfficiency,\"duration\":500,\"decimals\":2,\"desc\":`当前分享效率(%)`}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.frequency_day,\"duration\":500,\"desc\":\"今日服务次数\"}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.hostNum,\"duration\":500,\"desc\":\"近30分钟活跃网站/APP数\"}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.max_online,\"duration\":500,\"desc\":\"历史最高在线人数\"}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.num_channel,\"duration\":500,\"desc\":\"频道总数\"}})],1),_c('el-col',{staticClass:\"card-panel-col\",attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('card',{attrs:{\"num\":_vm.statis.num_tracker,\"duration\":500,\"desc\":\"当前Tracker实例数\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row :gutter=\"20\" class=\"panel-group\">\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.online\"\n            :duration=\"500\"\n            desc=\"当前在线人数\"\n            :color=\"statis.online > 500000 ? 'red' : ''\"\n      >\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.bandwidth_p2p.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`当前P2P带宽(${statis.bandwidth_p2p.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.bandwidth_http.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`当前HTTP带宽(${statis.bandwidth_http.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.p2p_rate\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            desc=\"当前P2P效率(%)\"\n            :color=\"statis.p2p_rate < 30 ? 'red' : ''\"\n      >\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.bandwidth_share.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`当前上行带宽(${statis.bandwidth_http.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.traffic_p2p.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`今日P2P流量(${statis.traffic_p2p.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.traffic_http.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`今日HTTP流量(${statis.traffic_http.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.traffic_share.num\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`今日上行流量(${statis.traffic_http.unit})`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"shareEfficiency\"\n            :duration=\"500\"\n            :decimals=\"2\"\n            :desc=\"`当前分享效率(%)`\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.frequency_day\"\n            :duration=\"500\"\n            desc=\"今日服务次数\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.hostNum\"\n            :duration=\"500\"\n            desc=\"近30分钟活跃网站/APP数\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.max_online\"\n            :duration=\"500\"\n            desc=\"历史最高在线人数\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.num_channel\"\n            :duration=\"500\"\n            desc=\"频道总数\">\n      </card>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <card :num=\"statis.num_tracker\"\n            :duration=\"500\"\n            desc=\"当前Tracker实例数\">\n      </card>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport { fetchLiveTimeData } from '@/api/liveData'\nimport { fetchHostNum } from '@/api/userDomain'\nimport { formatBandwidth, formatTraffic } from '@/utils/format'\nimport Card from '@/components/Card'\n\nlet timer = undefined\n\nexport default {\n  name: 'PanelGroup',\n  components: {\n    Card,\n  },\n  data() {\n    return {\n      statis: {\n        online: 0,\n        max_online: 0,\n        num_channel: 0,\n        num_tracker: 0,\n        p2p_rate: 0,\n\n        hostNum: 0,\n\n        bandwidth_p2p: {\n          num: 0,\n          unit: 'kbps'\n        },\n        bandwidth_http: {\n          num: 0,\n          unit: 'kbps'\n        },\n        bandwidth_share: {\n          num: 0,\n          unit: 'kbps'\n        },\n        traffic_p2p: {\n          num: 0,\n          unit: 'KB'\n        },\n        traffic_http: {\n          num: 0,\n          unit: 'KB'\n        },\n        traffic_share: {\n          num: 0,\n          unit: 'KB'\n        },\n        frequency_day: 0,\n      }\n    }\n  },\n  created() {\n    this.getData()\n    timer = setInterval(() => {\n      this.getData()\n    }, 20000)\n  },\n  destroyed() {\n    clearInterval(timer)\n  },\n  computed: {\n    shareEfficiency: {\n      get(){\n        return this.statis.bandwidth_p2p.num/this.statis.bandwidth_share.num * 100\n      },\n    }\n  },\n  methods: {\n    getData() {\n        fetchLiveTimeData().then(res => {\n        const { data } = res\n        this.statis.online = data.num_rt\n        this.statis.max_online = data.max_num\n        this.statis.num_channel = data.num_channel\n        this.statis.num_tracker = data.num_tracker\n        this.statis.bandwidth_p2p = formatBandwidth(data.rt_bw_p2p)\n        this.statis.bandwidth_share = formatBandwidth(data.rt_bw_share)\n        this.statis.bandwidth_http = formatBandwidth(data.rt_bw_http)\n        this.statis.p2p_rate = Number((data.p2p_rate_rt * 100).toFixed(2))\n\n        this.statis.traffic_p2p = formatTraffic(data.traffic_p2p_day)\n        this.statis.traffic_http = formatTraffic(data.traffic_http_day)\n        this.statis.traffic_share = formatTraffic(data.traffic_share_day)\n\n        this.statis.frequency_day = data.api_frequency_day\n        this.$emit('numChange', data.num_rt)\n        //接入网站总数\n      }).catch(err => {\n        console.log(err)\n      })\n      fetchHostNum().then(res => {\n          this.statis.hostNum = res.data.num\n      })\n    }\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n  .panel-group {\n    margin-top: 18px;\n    .card-panel-col{\n      margin-bottom: 20px;\n    }\n    .card-panel {\n      height: 108px;\n      font-size: 12px;\n      position: relative;\n      overflow: hidden;\n      color: #666;\n      background: #fff;\n      box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\n      border-color: rgba(0, 0, 0, .05);\n      .card-panel-description {\n        text-align: right;\n        line-height: 42px;\n        font-weight: bold;\n        margin: 26px;\n        margin-left: 0;\n        .card-panel-text {\n          line-height: 18px;\n          color: rgba(0, 0, 0, 0.45);\n          font-size: 16px;\n        }\n        .card-panel-num {\n          font-size: 24px;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PanelGroup.vue?vue&type=template&id=0830b5e4&scoped=true&\"\nimport script from \"./PanelGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./PanelGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PanelGroup.vue?vue&type=style&index=0&id=0830b5e4&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0830b5e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"dashboard-editor-container\">\n    <PanelGroup />\n    <!-- <PanelGroup v-on:numChange=\"getOnlineNum\" /> -->\n  </div>\n</template>\n\n<script>\nimport PanelGroup from './components/PanelGroup'\n\nexport default {\n  name: 'Dashboard',\n  components: {\n    PanelGroup\n  }\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n.dashboard-editor-container {\n  padding: 16px 32px;\n  background-color: rgb(240, 242, 245);\n  min-height: calc(100vh - 84px);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./liveData.vue?vue&type=template&id=7f88ce00&\"\nimport script from \"./liveData.vue?vue&type=script&lang=js&\"\nexport * from \"./liveData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./liveData.vue?vue&type=style&index=0&id=7f88ce00&prod&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"dashboard-container\">\n    <component :is=\"currentRole\"/>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport adminDashboard from './admin/liveData'\nimport userDashboard from './user/liveData'\n\nexport default {\n  name: 'Dashboard',\n  components: { adminDashboard, userDashboard },\n  data() {\n    return {\n      currentRole: 'adminDashboard'\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'roles'\n    ])\n  },\n  created() {\n    if (!this.roles.includes('admin')) {\n      this.currentRole = 'userDashboard'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./liveData.vue?vue&type=template&id=2324e5c9&\"\nimport script from \"./liveData.vue?vue&type=script&lang=js&\"\nexport * from \"./liveData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelGroup.vue?vue&type=style&index=0&id=0830b5e4&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./liveData.vue?vue&type=style&index=0&id=56e3e154&prod&rel=stylesheet%2Fscss&lang=scss&\""],"sourceRoot":""}