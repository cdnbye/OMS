{"version":3,"sources":["webpack:///./src/views/userData/index.vue","webpack:///./src/views/userData/components/DomainTable.vue","webpack:///src/views/userData/components/DomainTable.vue","webpack:///./src/views/userData/components/DomainTable.vue?2646","webpack:///./src/views/userData/components/DomainTable.vue?3f3b","webpack:///src/views/userData/index.vue","webpack:///./src/views/userData/index.vue?1f2e","webpack:///./src/views/userData/index.vue?31d3"],"names":["render","_vm","this","_c","_self","attrs","padding","staticRenderFns","staticClass","staticStyle","nativeOn","$event","type","indexOf","_k","keyCode","key","handleSearch","apply","arguments","model","value","searchValue","callback","$$v","expression","on","selectChange","selectValue","_l","selectOptions","item","label","platformValue","platformOptions","showValidChange","showValid","_v","showWhitelistChange","showWhite","showBlacklistChange","showBlack","showDebugChange","showDebug","showNativeChange","showNative","directives","name","rawName","loading","tableData","tableFilter","scopedSlots","_u","fn","scope","hostClick","row","host","_s","isvalid","ref","host_id","blocked","pClose","$t","blacklistChange","pShow","slot","whitelist","whiteListChange","debug","debugChange","handleCheckDetail","device","tableParam","pageSize","page","handleSizeChange","handleCurrentChange","data","filters","computed","mapGetters","mounted","methods","id","window","domain","message","uid","blockDomain","then","catch","whiteDomain","debugDomain","filter","formatData","fetchTableData","fetchDomain","val","e","searchHost","params","hostId","domainInfo","native","beforeDestroy","clearInterval","component","components","Table"],"mappings":"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","file":"js/chunk-2d0c51a9.e8aef30b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{attrs:{\"body-style\":{ padding: '30px' }}},[_c('Table')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":12,\"lg\":6}},[_c('el-input',{staticClass:\"filter-item\",attrs:{\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"请输入域名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleSearch.apply(null, arguments)}},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":6,\"lg\":3}},[_c('el-select',{staticClass:\"filter-item\",on:{\"change\":_vm.selectChange},model:{value:(_vm.selectValue),callback:function ($$v) {_vm.selectValue=$$v},expression:\"selectValue\"}},_vm._l((_vm.selectOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"xs\":12,\"sm\":6,\"lg\":3}},[_c('el-select',{staticClass:\"filter-item\",on:{\"change\":_vm.selectChange},model:{value:(_vm.platformValue),callback:function ($$v) {_vm.platformValue=$$v},expression:\"platformValue\"}},_vm._l((_vm.platformOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"xs\":8,\"sm\":12,\"lg\":2}},[_c('el-checkbox',{on:{\"change\":_vm.showValidChange},model:{value:(_vm.showValid),callback:function ($$v) {_vm.showValid=$$v},expression:\"showValid\"}},[_vm._v(\"已绑定\")])],1),_c('el-col',{attrs:{\"xs\":8,\"sm\":12,\"lg\":2}},[_c('el-checkbox',{on:{\"change\":_vm.showWhitelistChange},model:{value:(_vm.showWhite),callback:function ($$v) {_vm.showWhite=$$v},expression:\"showWhite\"}},[_vm._v(\"白名单\")])],1),_c('el-col',{attrs:{\"xs\":8,\"sm\":12,\"lg\":2}},[_c('el-checkbox',{on:{\"change\":_vm.showBlacklistChange},model:{value:(_vm.showBlack),callback:function ($$v) {_vm.showBlack=$$v},expression:\"showBlack\"}},[_vm._v(\"黑名单\")])],1),_c('el-col',{attrs:{\"xs\":8,\"sm\":12,\"lg\":2}},[_c('el-checkbox',{on:{\"change\":_vm.showDebugChange},model:{value:(_vm.showDebug),callback:function ($$v) {_vm.showDebug=$$v},expression:\"showDebug\"}},[_vm._v(\"Debug\")])],1),_c('el-col',{attrs:{\"xs\":8,\"sm\":12,\"lg\":4}},[_c('el-checkbox',{on:{\"change\":_vm.showNativeChange},model:{value:(_vm.showNative),callback:function ($$v) {_vm.showNative=$$v},expression:\"showNative\"}},[_vm._v(\"Native\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"filter-change\":_vm.tableFilter}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"域名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_c('a',{on:{\"click\":function($event){return _vm.hostClick(scope.row.host)}}},[_vm._v(_vm._s(scope.row.host))])])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"num\",\"label\":\"人数\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"max_num\",\"label\":\"最大人数\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否绑定\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.isvalid ? '已绑定' : '未绑定'))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"黑名单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row.host_id,attrs:{\"trigger\":\"manual\",\"placement\":\"top\",\"width\":\"160\"}},[_c('p',[_vm._v(_vm._s(scope.row.blocked ? '确认从黑名单中移除吗？' : '确定加入黑名单吗？'))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.pClose(scope.row.host_id)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.blacklistChange(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.blocked,\"active-color\":\"red\"},on:{\"change\":function($event){return _vm.pShow(scope.row.host_id)}},slot:\"reference\"})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"白名单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row.host,attrs:{\"trigger\":\"manual\",\"placement\":\"top\",\"width\":\"160\"}},[_c('p',[_vm._v(_vm._s(scope.row.whitelist ? '确认从白名单中移除吗？' : '确定加入白名单吗？'))]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.pClose(scope.row.host)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.whiteListChange(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.whitelist,\"active-color\":\"green\"},on:{\"change\":function($event){return _vm.pShow(scope.row.host)}},slot:\"reference\"})],1)]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Debug\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.debug,\"active-color\":\"green\"},on:{\"change\":function($event){return _vm.debugChange(scope.row)}},slot:\"reference\"})]}}])}),_c('el-table-column',{attrs:{\"label\":\"action\",\"align\":\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleCheckDetail(scope.row)}}},[_vm._v(\"详情\")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"small\":_vm.device === 'mobile',\"layout\":_vm.device === 'mobile' ? 'prev, pager, next' : 'sizes, prev, pager, next',\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.tableParam.pageSize,\"current-page\":_vm.tableParam.page},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"app-container\">\n  <el-row :gutter=\"20\" style=\"margin-bottom: 20px\">\n    <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\">\n      <el-input\n          class=\"filter-item\"\n          prefix-icon=\"el-icon-search\"\n          placeholder=\"请输入域名\"\n          v-model=\"searchValue\"\n          @keyup.enter.native=\"handleSearch\"/>\n    </el-col>\n    <el-col :xs=\"12\" :sm=\"6\" :lg=\"3\">\n      <el-select v-model=\"selectValue\" @change=\"selectChange\" class=\"filter-item\">\n        <el-option\n          v-for=\"item in selectOptions\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </el-col>\n    <el-col :xs=\"12\" :sm=\"6\" :lg=\"3\">\n      <el-select v-model=\"platformValue\" @change=\"selectChange\" class=\"filter-item\">\n        <el-option\n            v-for=\"item in platformOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </el-col>\n    <el-col :xs=\"8\" :sm=\"12\" :lg=\"2\">\n      <el-checkbox v-model=\"showValid\" @change=\"showValidChange\">已绑定</el-checkbox>\n    </el-col>\n    <el-col :xs=\"8\" :sm=\"12\" :lg=\"2\">\n      <el-checkbox v-model=\"showWhite\" @change=\"showWhitelistChange\">白名单</el-checkbox>\n    </el-col>\n    <el-col :xs=\"8\" :sm=\"12\" :lg=\"2\">\n      <el-checkbox v-model=\"showBlack\" @change=\"showBlacklistChange\">黑名单</el-checkbox>\n    </el-col>\n    <el-col :xs=\"8\" :sm=\"12\" :lg=\"2\">\n      <el-checkbox v-model=\"showDebug\" @change=\"showDebugChange\">Debug</el-checkbox>\n    </el-col>\n    <el-col :xs=\"8\" :sm=\"12\" :lg=\"4\">\n      <el-checkbox v-model=\"showNative\" @change=\"showNativeChange\">Native</el-checkbox>\n    </el-col>\n  </el-row>\n  <el-table\n    :data=\"tableData\"\n    v-loading=\"loading\"\n    @filter-change=\"tableFilter\"\n    style=\"width: 100%\">\n    <el-table-column align=\"center\" label=\"域名\">\n      <template slot-scope=\"scope\">\n        <span><a @click=\"hostClick(scope.row.host)\">{{scope.row.host}}</a></span>\n      </template>\n    </el-table-column>\n    <el-table-column align=\"center\" prop=\"num\" label=\"人数\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"max_num\" label=\"最大人数\"></el-table-column>\n    <el-table-column align=\"center\" prop=\"email\" label=\"邮箱\"></el-table-column>\n    <el-table-column align=\"center\" label=\"是否绑定\">\n      <template slot-scope=\"scope\">\n        <span>{{ scope.row.isvalid ? '已绑定' : '未绑定' }}</span>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"黑名单\">\n      <template slot-scope=\"scope\">\n        <el-popover\n          trigger=\"manual\"\n          placement=\"top\"\n          width=\"160\"\n          :ref=\"'popover-' + scope.row.host_id\"\n          >\n          <p>{{ scope.row.blocked ? '确认从黑名单中移除吗？' : '确定加入黑名单吗？' }}</p>\n          <div style=\"text-align: right; margin: 0\">\n            <el-button type=\"text\" size=\"mini\" @click=\"pClose(scope.row.host_id)\">{{ $t('common.cancel') }}</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"blacklistChange(scope.row)\">{{ $t('common.ok') }}</el-button>\n          </div>\n          <el-switch slot=\"reference\" :value=\"scope.row.blocked\" active-color=\"red\" @change=\"pShow(scope.row.host_id)\"></el-switch>\n        </el-popover>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"白名单\">\n      <template slot-scope=\"scope\">\n        <el-popover\n          trigger=\"manual\"\n          placement=\"top\"\n          width=\"160\"\n          :ref=\"'popover-' + scope.row.host\"\n          >\n          <p>{{ scope.row.whitelist ? '确认从白名单中移除吗？' : '确定加入白名单吗？' }}</p>\n          <div style=\"text-align: right; margin: 0\">\n            <el-button type=\"text\" size=\"mini\" @click=\"pClose(scope.row.host)\">{{ $t('common.cancel') }}</el-button>\n            <el-button type=\"primary\" size=\"mini\" @click=\"whiteListChange(scope.row)\">{{ $t('common.ok') }}</el-button>\n          </div>\n          <el-switch slot=\"reference\" :value=\"scope.row.whitelist\" active-color=\"green\" @change=\"pShow(scope.row.host)\"></el-switch>\n        </el-popover>\n      </template>\n    </el-table-column>\n\n    <el-table-column align=\"center\" label=\"Debug\">\n      <template slot-scope=\"scope\">\n        <el-switch slot=\"reference\" :value=\"scope.row.debug\" active-color=\"green\" @change=\"debugChange(scope.row)\"></el-switch>\n      </template>\n    </el-table-column>\n\n    <el-table-column label=\"action\" align=\"center\" class-name=\"small-padding fixed-width\">\n      <template slot-scope=\"scope\">\n        <el-button type=\"primary\" size=\"mini\" @click=\"handleCheckDetail(scope.row)\">详情</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n\n  <div class=\"pagination-container\">\n    <el-pagination\n      :small=\"device === 'mobile'\"\n      :layout=\"device === 'mobile' ? 'prev, pager, next' : 'sizes, prev, pager, next'\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"tableParam.pageSize\"\n      :current-page=\"tableParam.page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\">\n    </el-pagination>\n  </div>\n</div>\n</template>\n\n  <script>\n  import { fetchDomain, blockDomain, whiteDomain, debugDomain, searchHost } from '@/api/userDomain'\n  import { mapGetters } from 'vuex'\n  import { getID } from '@/utils/auth'\n\n  export default {\n    data() {\n      return {\n        loading: false,\n        showValid: true,\n        showWhite: false,\n        showBlack: false,\n        showDebug: false,\n        showNative: false,\n        tableData: [],\n        tableParam: {\n          page: 1,\n          pageSize: 10\n        },\n\n        filters: [\n          {\n            name: 'isvalid',\n            value: true\n          },\n          {\n            name: 'blocked',\n            value: false\n          },\n          {\n            name: 'whitelist',\n            value: false\n          },\n          {\n            name: 'native',\n            value: false\n          },\n          {\n              name: 'debug',\n              value: false\n          },\n        ],\n\n        searchValue: '',\n        selectValue: 'num',\n        selectOptions: [\n          {\n            label: 'id',\n            value: 'id'\n          },\n          {\n            label: '最大人数',\n            value: 'max_num'\n          },\n          {\n            label: '人数',\n            value: 'num'\n          },\n          {\n            label: '近一月p2p流量',\n            value: 'p2p_month'\n          },\n          {\n            label: '近一月http流量',\n            value: 'http_month'\n          }\n        ],\n        platformValue: undefined,\n        platformOptions: [\n          {\n            label: 'all platform',\n            value: undefined\n          },\n          {\n            label: 'android',\n            value: 'android'\n          },\n          {\n            label: 'ios',\n            value: 'ios'\n          },\n          {\n            label: 'pc',\n            value: 'pc'\n          },\n        ]\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'device'\n      ])\n    },\n    mounted() {\n      this.fetchTableData()\n      // this.timmer = setInterval(() => {\n      //     this.fetchTableData()\n      // }, 30000)\n    },\n    methods: {\n      pShow(id) {\n        this.$refs[`popover-` + id].doShow()\n      },\n      pClose(id) {\n        this.$refs[`popover-` + id].doClose()\n      },\n      hostClick(value) {\n        window.open(`http://${value}`)\n        window.open(`https://${value}`)\n      },\n      blacklistChange(domain) {\n        if(domain.whitelist && !domain.blocked) {\n          this.pClose(domain.host_id)\n          this.$message({\n            message: '不能同时添加到白名单和黑名单',\n            type: 'error'\n          })\n          return\n        }\n        const data = {\n          domain: domain.host,\n          uid: domain.uid,\n          blocked: !domain.blocked\n        }\n        this.loading = true\n        blockDomain(data)\n          .then(res => {\n            this.pClose(domain.host_id)\n            this.tableData.forEach(item => {\n              if(item.host_id === domain.host_id)\n                item.blocked = !item.blocked\n            })\n            this.$message({\n              message: domain.blocked ? '成功添加至黑名单' : '已从黑名单中移除',\n              type: 'success'\n            })\n            this.loading = false\n          })\n          .catch(err => {\n            this.loading = false\n          })\n      },\n      whiteListChange(domain) {\n        if(!domain.whitelist && domain.blocked) {\n          this.pClose(domain.host)\n          this.$message({\n            message: '不能同时添加到白名单和黑名单',\n            type: 'error'\n          })\n          return\n        }\n        const data = {\n          domain: domain.host,\n          uid: domain.uid,\n          whitelist: !domain.whitelist\n        }\n        this.loading = true\n        whiteDomain(data)\n          .then(res => {\n            this.pClose(domain.host)\n            this.tableData.forEach(item => {\n              if(item.host_id === domain.host_id)\n                item.whitelist = !item.whitelist\n            })\n            this.$message({\n              message: domain.whitelist ? '成功添加至白名单' : '已从白名单中移除',\n              type: 'success'\n            })\n            this.loading = false\n          })\n          .catch(err => {\n            this.loading = false\n          })\n      },\n      debugChange(domain) {\n          const data = {\n              domain: domain.host,\n              uid: domain.uid,\n              debug: !domain.debug\n          }\n          this.loading = true\n          debugDomain(data)\n              .then(res => {\n                  this.tableData.forEach(item => {\n                      if(item.host_id === domain.host_id)\n                          item.debug = !item.debug\n                  })\n                  this.$message({\n                      message: domain.debug ? '开启debug' : '关闭debug',\n                      type: 'success'\n                  })\n                  this.loading = false\n              })\n              .catch(err => {\n                  this.loading = false\n              })\n      },\n      tableFilter(filter) {\n        this.fetchTableData()\n      },\n      showValidChange(value) {\n        this.filters.forEach(item => {\n          if(item.name === 'isvalid')\n            item.value = value\n        })\n        this.fetchTableData()\n      },\n      showWhitelistChange(value) {\n        this.filters.forEach(item => {\n          if(item.name === 'whitelist')\n            item.value = value\n        })\n        this.fetchTableData()\n      },\n      showBlacklistChange(value) {\n        this.filters.forEach(item => {\n          if(item.name === 'blocked')\n            item.value = value\n        })\n        this.fetchTableData()\n      },\n      showDebugChange(value) {\n          this.filters.forEach(item => {\n              if(item.name === 'debug')\n                  item.value = value\n          })\n          this.fetchTableData()\n      },\n      showNativeChange(value) {\n          this.filters.forEach(item => {\n              if(item.name === 'native')\n                  item.value = value\n          })\n          this.fetchTableData()\n      },\n      formatData(data) {\n        data.forEach(item => {\n          if(item.p2p_month) {\n            item.p2p_month = (item.p2p_month / 1024 / 1024).toFixed(2)\n          }\n          if(item.http_month) {\n            item.http_month = (item.http_month / 1024 / 1024).toFixed(2)\n          }\n          if(item.p2p_rt) {\n            item.p2p_rt = (item.p2p_rt / 1024).toFixed(2)\n          }\n          if(item.http_rt) {\n            item.http_rt = (item.http_rt / 1024).toFixed(2)\n          }\n        })\n        return data\n      },\n      fetchTableData(page=this.tableParam.page, pageSize=this.tableParam.pageSize, order=this.selectValue, filters=this.filters, platform=this.platformValue) {\n        this.loading = true\n        fetchDomain(page, pageSize, order, filters, platform).then(res => {\n          this.loading = false\n          this.tableData = this.formatData(res.data)\n        }).catch(err => {\n          this.tableData = []\n          this.loading = false\n        })\n      },\n      handleSizeChange(pageSize) {\n        this.tableParam.pageSize = pageSize\n        this.fetchTableData()\n      },\n      handleCurrentChange(page) {\n        this.tableParam.page = page\n        this.fetchTableData()\n      },\n      selectChange(val) {\n        this.fetchTableData()\n      },\n      handleSearch(e){\n        const host = e.target.value.trim()\n        if(host) {\n          searchHost(host).then(res => {\n            if(this.showValid) {\n              this.tableData = res.data.filter(item => item.isvalid)\n            } else {\n              this.tableData = [...res.data]\n            }\n          })\n        } else {\n          this.fetchTableData()\n        }\n      },\n      handleCheckDetail(val) {\n        // console.warn(JSON.stringify(val))\n        this.$router.push({\n          name: 'UserLiveData',\n          params: {\n            // uid: getID(),\n            hostId: val.host_id,\n            domainInfo: {\n                uid: getID(),\n                id: -1,\n                native: val.native,\n                domain: val.host,\n            },\n          }\n        })\n      }\n    },\n    beforeDestroy() {\n        clearInterval(this.timmer)\n    }\n  }\n  </script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DomainTable.vue?vue&type=template&id=3383dd87&\"\nimport script from \"./DomainTable.vue?vue&type=script&lang=js&\"\nexport * from \"./DomainTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-card :body-style=\"{ padding: '30px' }\">\n    <Table />\n  </el-card>\n</template>\n\n<script>\nimport Table from './components/DomainTable'\n\nexport default {\n  name: 'UserData',\n  components: {\n    Table\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=396eae11&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}