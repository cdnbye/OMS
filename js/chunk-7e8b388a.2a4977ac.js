(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e8b388a"],{"14b9":function(t,a,e){var n=e("5ca1");n(n.P,"String",{repeat:e("9744")})},"3ef1":function(t,a,e){"use strict";e("6b51")},"66e6":function(t,a,e){"use strict";e.d(a,"g",(function(){return c})),e.d(a,"f",(function(){return o})),e.d(a,"e",(function(){return i})),e.d(a,"j",(function(){return r})),e.d(a,"h",(function(){return s})),e.d(a,"a",(function(){return u})),e.d(a,"c",(function(){return d})),e.d(a,"b",(function(){return l})),e.d(a,"i",(function(){return f})),e.d(a,"d",(function(){return h}));var n=e("b775");function c(t){var a="goods/flow_packet";return t&&(a="".concat(a,"?uid=").concat(t)),Object(n["a"])({url:a,method:"get"})}function o(t){var a="goods/monthly_packet";return t&&(a="".concat(a,"?uid=").concat(t)),Object(n["a"])({url:a,method:"get"})}function i(t,a){return Object(n["a"])({url:"order/user_id/".concat(t),method:"post",data:a})}function r(t){return Object(n["a"])({url:"charge/crypto/trade",method:"post",data:t})}function s(t,a,e){var c=location.origin+location.pathname,o="mobile"===e?"&mobile=true":"";return Object(n["a"])({url:"charge/".concat(t,"/pay?origin=").concat(c,"&order_id=").concat(a).concat(o),method:"get"})}function u(t){return Object(n["a"])({url:"charge/alipay/query?order_id=".concat(t),method:"get"})}function d(t,a,e){return Object(n["a"])({url:"charge/paypal/query?order_id=".concat(t,"&payment_id=").concat(a,"&payer_id=").concat(e),method:"get"})}function l(t,a){return Object(n["a"])({url:"user/user_id/".concat(t,"/checkin"),method:"post",data:a})}function f(t){return Object(n["a"])({url:"user/user_id/".concat(t,"/invoice"),method:"get"})}function h(t,a){return Object(n["a"])({url:"user/user_id/".concat(t,"/invoice"),method:"post",data:a})}},"6b51":function(t,a,e){},"7a42":function(t,a,e){"use strict";e("cee6")},9744:function(t,a,e){"use strict";var n=e("4588"),c=e("be13");t.exports=function(t){var a=String(c(this)),e="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(a+=a))1&o&&(e+=a);return e}},c9cc:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"dashboard-global-container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.checkResultLoading,expression:"checkResultLoading"}],attrs:{"element-loading-text":t.$t("package.checkResultLoadingTip")}},[a("el-alert",{attrs:{title:t.$t("domainTable.title"),description:t.$t("dashboard.descGlobal"),type:"info","show-icon":""}}),a("el-row",{staticStyle:{"text-align":"left"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:7,sm:4,lg:2}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.checkinLoading,expression:"checkinLoading"},{name:"show",rawName:"v-show",value:t.showCheckin,expression:"showCheckin"}],staticStyle:{"font-size":"medium","margin-right":"80px"},attrs:{size:"small",type:"success"},on:{click:t.handleCheckin}},[t._v("\n          "+t._s(t.$t("dashboard.checkin"))+"\n        ")])],1)],1),a("LiveTime",{attrs:{statis:t.statis}}),a("DistributionGlobal",{attrs:{data:t.disData}}),a("NoBindTip")],1)])},c=[],o=(e("8e6e"),e("ac6a"),e("456d"),e("a481"),e("14b9"),e("bd86")),i=e("2f62"),r=e("5f87"),s=e("8595"),u=e("66e6"),d=e("b775");function l(t){return Object(d["a"])({url:"user/user_id/".concat(t,"/global/domains"),method:"get"})}var f=e("6be8"),h=e("9a09"),p=e("b352"),m=function(){var t=this,a=t._self._c;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.domainDis"),data:t.data.domainData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.versionDis"),data:t.data.versionData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.terminalDis"),data:t.data.deviceData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.liveDis"),data:t.data.liveData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.netDis"),data:t.data.netTypeData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.ispDis"),data:t.data.ispData}})],1)],1)},b=[],g=e("d9d8"),y={name:"DistributionGlobal",components:{PieCard:g["a"]},props:{data:{type:Object,required:!0,default:{domainData:[],versionData:[],deviceData:[],liveData:[],netTypeData:[],ispData:[]}}}},v=y,k=(e("7a42"),e("2877")),D=Object(k["a"])(v,m,b,!1,null,"6ed40a62",null),_=D.exports,O=e("5d2d");function w(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function j(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?w(Object(e),!0).forEach((function(a){Object(o["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var $=void 0,x={name:"liveDataGlobal",components:{NoBindTip:h["a"],LiveTime:p["a"],DistributionGlobal:_},data:function(){return{checkResultLoading:!1,checkinLoading:!1,remainTrafficFlag:!0,showCheckin:!0,statis:{whiteList:!1,type:{product_type:0,time:""},online:0,traffic_p2p:{num:0,unit:"KB"},traffic_http:{num:0,unit:"KB"},frequency_day:0,num_max:0,rebuffer_ratio:-1,flow:{remain:0,daily_remain:0,totalRemain:0,free:{num:0,unit:"KB"},utc:0},clock:null,traffic_p2p_day:0,traffic_http_day:0},disData:{domainData:[],versionData:[],deviceData:[],liveData:[],netTypeData:[],ispData:[]}}},computed:j({},Object(i["b"])(["currentDomain","device","language"])),mounted:function(){var t=Object(r["a"])();this.loopGetData(t,0),this.getDisData(t),Object(O["a"])("checkin")&&(this.showCheckin=!1),this.checkPayResult()},beforeDestroy:function(){clearInterval($)},methods:{getDisData:function(t){var a=this;l(t).then((function(t){var e=t.data;a.disData.domainData=e?Object(f["b"])(e):[]})),Object(s["a"])(t,0,"version").then((function(t){var e=t.data.data;a.disData.versionData=e?Object(f["b"])(e):[]})),Object(s["a"])(t,0,"device").then((function(t){var e=t.data.data;a.disData.deviceData=e?Object(f["b"])(e):[]})),Object(s["a"])(t,0,"live").then((function(t){var e=t.data.data;a.disData.liveData=e?Object(f["b"])(e):[]})),Object(s["a"])(t,0,"netType").then((function(t){var e=t.data.data;a.disData.netTypeData=e?Object(f["b"])(e):[]})),Object(s["a"])(t,0,"isp",void 0,"en"===this.language?"en":"").then((function(t){var e=t.data.data;a.disData.ispData=e?Object(f["b"])(e):[]}))},formatTraffic:f["c"],getData:function(t,a){var e=this;Object(s["c"])(t,a).then((function(t){var a=t.data;e.statis.online=a.num_rt,e.statis.traffic_p2p_day=a.traffic_p2p_day,e.statis.traffic_http_day=a.traffic_http_day,e.statis.traffic_p2p=Object(f["c"])(a.traffic_p2p_day),e.statis.traffic_http=Object(f["c"])(a.traffic_http_day),e.statis.frequency_day=a.api_frequency_day,e.statis.num_max=a.num_max,e.statis.flow.remain=a.flow.remain,e.statis.flow.daily_remain=a.flow.daily_remain,e.statis.flow.totalRemain=a.flow.daily_remain+a.flow.remain,e.statis.flow.free=Object(f["c"])(a.flow.free),e.statis.flow.utc=a.flow.utc,e.statis.whiteList=a.whitelist,e.statis.type.product_type=a.flow.product_type,e.statis.type.time=a.flow.duetime,e.statis.clock=a.clock,0===a.flow.free&&0===a.flow.remain&&0===a.flow.daily_remain&&e.remainTrafficFlag&&void 0===Object(f["d"])().payment&&!a.whitelist&&(e.$messageBox.confirm(e.$t("dashboard.trafficUseOut"),{distinguishCancelAndClose:!0,confirmButtonText:e.$t("package.buyFlow"),cancelButtonText:e.$t("package.buyMonthly")}).then((function(){e.$router.push("/shopping/package")})).catch((function(t){"cancel"===t?e.$router.push("/shopping/monthly_package"):console.log("-")})),e.remainTrafficFlag=!1)})).catch((function(t){console.log(t)}))},loopGetData:function(t,a){var e=this;e.getData(t,a),$=setInterval((function(){e.getData(t,a)}),2e4)},handleCheckin:function(){var t=this;void 0!==this.currentDomain.id?(this.checkinLoading=!0,Object(u["b"])(this.currentDomain.uid,{user_id:this.currentDomain.uid}).then((function(a){a.data.repeat?t.$messageBox.alert(t.$t("dashboard.haveChecked"),{confirmButtonText:t.$t("common.ok")}):(t.$messageBox.confirm(t.$t("dashboard.checkinSuccess"),{type:"success",confirmButtonText:t.$t("common.ok"),showCancelButton:!1}),t.getData(t.currentDomain.uid,t.currentDomain.id)),t.checkinLoading=!1,Object(O["d"])("checkin",1,432e5),t.showCheckin=!1})).catch((function(a){t.$messageBox.confirm(t.$t("dashboard.checkinFail"),{type:"error",confirmButtonText:t.$t("common.ok"),showCancelButton:!1}),t.checkinLoading=!1,console.log(a)}))):this.$messageBox.confirm(this.$t("dashboard.tip"),{confirmButtonText:this.$t("common.ok"),cancelButtonText:this.$t("common.cancel")}).then((function(){t.$router.push("/user/domain")})).catch((function(){}))},checkPayResult:function(){var t=this,a=Object(f["d"])();if(a.cancel)this.$messageBox.confirm(this.$t("package.paySuspended"),{type:"error",confirmButtonText:this.$t("common.ok"),showCancelButton:!1});else if(a.payment)switch(this.checkResultLoading=!0,a.payment){case"alipay":Object(u["a"])(a.out_trade_no).then((function(a){t.checkResultLoading=!1,a.data.is_payed?t.$messageBox.confirm(t.$t("package.paySuccess"),{type:"success",confirmButtonText:t.$t("common.ok"),showCancelButton:!1}).then((function(){t.$router.replace("/")})):t.$messageBox.confirm(t.$t("package.payFail"),{type:"error",confirmButtonText:t.$t("common.ok"),showCancelButton:!1})})).catch((function(a){t.checkResultLoading=!1,console.log(a)}));break;case"paypal":a.paymentId&&a.PayerID&&Object(u["c"])(a.orderId,a.paymentId,a.PayerID).then((function(a){a.data.is_payed?(t.checkResultLoading=!1,t.$messageBox.confirm(t.$t("package.paySuccess"),{type:"success",confirmButtonText:t.$t("common.ok"),showCancelButton:!1}).then((function(){t.$router.replace("/")}))):t.$messageBox.confirm(t.$t("package.payFail"),{type:"error",confirmButtonText:t.$t("common.ok"),showCancelButton:!1})})).catch((function(a){t.checkResultLoading=!1,console.log(a)}));break;case"crypto":Object(u["j"])({uid:parseInt(Object(r["a"])()),order_id:a.orderId,processing:!0}).then((function(){t.checkResultLoading=!1,t.$messageBox.confirm(t.$t("package.payPending"),{type:"info",confirmButtonText:t.$t("common.ok"),showCancelButton:!1})})).catch((function(a){t.checkResultLoading=!1,console.log(a)}));break;default:this.checkResultLoading=!1;break}}}},B=x,T=(e("3ef1"),Object(k["a"])(B,n,c,!1,null,null,null));a["default"]=T.exports},cee6:function(t,a,e){}}]);
//# sourceMappingURL=chunk-7e8b388a.2a4977ac.js.map