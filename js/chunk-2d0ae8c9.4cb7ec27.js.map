{"version":3,"sources":["webpack:///./src/views/package/Invoice.vue","webpack:///src/views/package/Invoice.vue","webpack:///./src/views/package/Invoice.vue?69d5","webpack:///./src/views/package/Invoice.vue?65d2"],"names":["render","_vm","this","_c","_self","attrs","$t","staticStyle","slot","_v","ref","form","model","value","header","callback","$$v","$set","expression","identification","address","invoice_issued","available_amount","await_amount","loading","on","handleSubmit","_s","staticRenderFns","name","data","mounted","methods","fetchInvoiceInfo","getInvoiceInfo","then","title","message","distinguishCancelAndClose","confirmButtonText","cancelButtonText","createInvoice","type","catch","component"],"mappings":"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","file":"js/chunk-2d0ae8c9.4cb7ec27.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-alert',{attrs:{\"title\":_vm.$t('domainTable.title'),\"description\":\"仅为中国大陆工商认证并且使用人民币在线支付的企业开具发票，开票金额需至少1000元且为整数，消费不足1000元可后续累积足够金额再一次性开具发票。\",\"type\":\"info\",\"show-icon\":\"\"}}),_c('div',{staticStyle:{\"width\":\"400px\",\"margin\":\"100px auto\"}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('p',[_vm._v(\"输入开票信息\")])]),_c('el-form',{ref:\"createForm\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"prop\":\"header\",\"label\":\"发票抬头\",\"label-width\":\"100px\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"企业工商认证名称\"},model:{value:(_vm.form.header),callback:function ($$v) {_vm.$set(_vm.form, \"header\", $$v)},expression:\"form.header\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"identification\",\"label\":\"纳税人识别号\",\"label-width\":\"120px\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.identification),callback:function ($$v) {_vm.$set(_vm.form, \"identification\", $$v)},expression:\"form.identification\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"address\",\"label\":\"收件信息\",\"label-width\":\"100px\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"收件地址 联系人\",\"type\":\"textarea\",\"autosize\":\"\",\"rows\":3},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"invoice_issued\",\"label\":\"已开金额\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.invoice_issued),callback:function ($$v) {_vm.$set(_vm.form, \"invoice_issued\", $$v)},expression:\"form.invoice_issued\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"available_amount\",\"label\":\"可开金额\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.available_amount),callback:function ($$v) {_vm.$set(_vm.form, \"available_amount\", $$v)},expression:\"form.available_amount\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"await_amount\",\"label\":\"开票金额\",\"label-width\":\"100px\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"至少1000元\"},model:{value:(_vm.form.await_amount),callback:function ($$v) {_vm.$set(_vm.form, \"await_amount\", $$v)},expression:\"form.await_amount\"}})],1)],1),_c('div',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(_vm.form.await_amount>0?\"重新提交\":\"提交\"))])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-alert\n                :title=\"$t('domainTable.title')\"\n                description=\"仅为中国大陆工商认证并且使用人民币在线支付的企业开具发票，开票金额需至少1000元且为整数，消费不足1000元可后续累积足够金额再一次性开具发票。\"\n                type=\"info\"\n                show-icon>\n        </el-alert>\n        <div style=\"width: 400px; margin: 100px auto;\">\n            <div slot=\"title\">\n                <p>输入开票信息</p>\n                <!--<p style=\"font-size: 12px\">{{ $t('app.createTip') }}</p>-->\n            </div>\n            <el-form :model=\"form\" label-position=\"left\" label-width=\"120px\" ref=\"createForm\">\n                <el-form-item prop=\"header\" label=\"发票抬头\" label-width=\"100px\" required>\n                    <el-input v-model=\"form.header\" placeholder=\"企业工商认证名称\"></el-input>\n                </el-form-item>\n\n                <el-form-item prop=\"identification\" label=\"纳税人识别号\" label-width=\"120px\" required>\n                    <el-input v-model=\"form.identification\"></el-input>\n                </el-form-item>\n\n                <el-form-item prop=\"address\" label=\"收件信息\" label-width=\"100px\" required>\n                    <el-input v-model=\"form.address\" placeholder=\"收件地址 联系人\" type=\"textarea\" autosize :rows=\"3\"></el-input>\n                </el-form-item>\n\n                <el-form-item prop=\"invoice_issued\" label=\"已开金额\" label-width=\"100px\">\n                    <el-input readonly v-model=\"form.invoice_issued\"></el-input>\n                </el-form-item>\n\n                <el-form-item prop=\"available_amount\" label=\"可开金额\" label-width=\"100px\">\n                    <el-input readonly v-model=\"form.available_amount\"></el-input>\n                </el-form-item>\n\n                <el-form-item prop=\"await_amount\" label=\"开票金额\" label-width=\"100px\" required>\n                    <el-input type=\"number\" v-model=\"form.await_amount\" placeholder=\"至少1000元\"></el-input>\n                </el-form-item>\n\n            </el-form>\n            <div slot=\"footer\" style=\"margin-top: 10px\">\n                <el-button type=\"primary\" @click=\"handleSubmit\" :loading=\"loading\" >{{ form.await_amount>0?\"重新提交\":\"提交\" }}</el-button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { getInvoiceInfo, createInvoice } from '@/api/user/package'\n    import { getID } from '@/utils/auth'\n    export default {\n        name: \"Invoice\",\n        data() {\n            return {\n                loading: false,\n                form: {\n                    header: '',\n                    identification: '',\n                    address: '',\n                    available_amount : 0,\n                    await_amount: 0,\n                    invoice_issued: 0,\n                },\n            };\n        },\n        mounted() {\n            this.fetchInvoiceInfo()\n        },\n        methods: {\n            fetchInvoiceInfo() {\n                getInvoiceInfo(getID())\n                    .then(info => {\n                        // info = info.data\n                        this.form = info.data\n                    })\n            },\n            handleSubmit() {\n                const amount = Number(this.form.await_amount)\n                const available_amount = Number(this.form.available_amount)\n                if ((amount > 0 && amount < 1000) || amount > available_amount || amount < 0) {\n                    this.$notify.error({\n                        title: this.$t('common.error'),\n                        message: '输入金额有误',\n                    });\n                    return\n                }\n                this.loading = true\n                this.$messageBox.confirm(\"确认提交吗？\", {\n                    distinguishCancelAndClose: true,\n                    confirmButtonText: this.$t('common.ok'),\n                    cancelButtonText: this.$t('common.cancel')\n                })\n                    .then(() => {\n                        this.form.await_amount = Number(this.form.await_amount)\n                        createInvoice(getID(), this.form).then(() => {\n                            this.loading = false\n                            this.$notify({\n                                title: this.$t('common.success'),\n                                message: '提交成功',\n                                type: 'success'\n                            });\n                        }).catch(() => {\n                            this.loading = false\n                        })\n\n                    })\n                    .catch(() => {\n                        this.loading = false\n                    })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invoice.vue?vue&type=template&id=e6eb9902&scoped=true&\"\nimport script from \"./Invoice.vue?vue&type=script&lang=js&\"\nexport * from \"./Invoice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6eb9902\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}