(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ae8c9"],{"0b12":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("el-alert",{attrs:{title:t.$t("domainTable.title"),description:"仅为中国大陆工商认证并且使用人民币在线支付的企业开具发票，开票金额需至少1000元且为整数，消费不足1000元可后续累积足够金额再一次性开具发票。",type:"info","show-icon":""}}),e("div",{staticStyle:{width:"400px",margin:"100px auto"}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",[t._v("输入开票信息")])]),e("el-form",{ref:"createForm",attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[e("el-form-item",{attrs:{prop:"header",label:"发票抬头","label-width":"100px",required:""}},[e("el-input",{attrs:{placeholder:"企业工商认证名称"},model:{value:t.form.header,callback:function(e){t.$set(t.form,"header",e)},expression:"form.header"}})],1),e("el-form-item",{attrs:{prop:"identification",label:"纳税人识别号","label-width":"120px",required:""}},[e("el-input",{model:{value:t.form.identification,callback:function(e){t.$set(t.form,"identification",e)},expression:"form.identification"}})],1),e("el-form-item",{attrs:{prop:"address",label:"收件信息","label-width":"100px",required:""}},[e("el-input",{attrs:{placeholder:"收件地址 联系人",type:"textarea",autosize:"",rows:3},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),e("el-form-item",{attrs:{prop:"invoice_issued",label:"已开金额","label-width":"100px"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.invoice_issued,callback:function(e){t.$set(t.form,"invoice_issued",e)},expression:"form.invoice_issued"}})],1),e("el-form-item",{attrs:{prop:"available_amount",label:"可开金额","label-width":"100px"}},[e("el-input",{attrs:{readonly:""},model:{value:t.form.available_amount,callback:function(e){t.$set(t.form,"available_amount",e)},expression:"form.available_amount"}})],1),e("el-form-item",{attrs:{prop:"await_amount",label:"开票金额","label-width":"100px",required:""}},[e("el-input",{attrs:{type:"number",placeholder:"至少1000元"},model:{value:t.form.await_amount,callback:function(e){t.$set(t.form,"await_amount",e)},expression:"form.await_amount"}})],1)],1),e("div",{staticStyle:{"margin-top":"10px"},attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v(t._s(t.form.await_amount>0?"重新提交":"提交"))])],1)],1)],1)},i=[],n=(a("c5f6"),a("66e6")),l=a("5f87"),r={name:"Invoice",data:function(){return{loading:!1,form:{header:"",identification:"",address:"",available_amount:0,await_amount:0,invoice_issued:0}}},mounted:function(){this.fetchInvoiceInfo()},methods:{fetchInvoiceInfo:function(){var t=this;Object(n["i"])(Object(l["a"])()).then((function(e){t.form=e.data}))},handleSubmit:function(){var t=this,e=Number(this.form.await_amount),a=Number(this.form.available_amount);e>0&&e<1e3||e>a||e<0?this.$notify.error({title:this.$t("common.error"),message:"输入金额有误"}):(this.loading=!0,this.$messageBox.confirm("确认提交吗？",{distinguishCancelAndClose:!0,confirmButtonText:this.$t("common.ok"),cancelButtonText:this.$t("common.cancel")}).then((function(){t.form.await_amount=Number(t.form.await_amount),Object(n["c"])(Object(l["a"])(),t.form).then((function(){t.loading=!1,t.$notify({title:t.$t("common.success"),message:"提交成功",type:"success"})})).catch((function(){t.loading=!1}))})).catch((function(){t.loading=!1})))}}},s=r,m=a("2877"),c=Object(m["a"])(s,o,i,!1,null,"e6eb9902",null);e["default"]=c.exports}}]);