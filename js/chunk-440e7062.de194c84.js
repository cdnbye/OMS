(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-440e7062"],{1418:function(t,a,e){"use strict";e("92c3")},"18dc":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"dashboard-realtime-container"},[a("el-alert",{attrs:{title:t.$t("domainTable.title"),description:t.$t("dashboard.descPerApp"),type:"info","show-icon":""}}),a("LiveTime",{attrs:{statis:t.statis}}),a("Dis",{attrs:{data:t.disData}}),a("NoBindTip")],1)},r=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),s=e("4360"),c=e("2f62"),o=e("8595"),l=e("6be8"),d=e("9a09"),f=e("2774"),u=e("b352");function p(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function h(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?p(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var b=void 0,m={name:"liveData",components:{Dis:f["a"],NoBindTip:d["a"],LiveTime:u["a"]},data:function(){return{remainTrafficFlag:!0,statis:{whiteList:!1,type:{product_type:0,time:""},online:0,traffic_p2p:{num:0,unit:"KB"},traffic_http:{num:0,unit:"KB"},frequency_day:0,num_max:0,rebuffer_ratio:-1,flow:{remain:0,daily_remain:0,totalRemain:0,free:{num:0,unit:"KB"},utc:0},clock:null,traffic_p2p_day:0,traffic_http_day:0},disData:{versionData:[],tagData:[],deviceData:[],liveData:[],netTypeData:[],natTypeData:[]}}},computed:h({},Object(c["b"])(["currentDomain","device","language"])),watch:{currentDomain:function(){this.$route.params.hostId||(clearInterval(b),this.getUserDomain())}},mounted:function(){this.$store.dispatch("toggleSwitchDomain",!0);var t=this.$route.params.domainInfo;t&&t.id&&t.uid?(this.loopGetData(t.uid,t.id,this.$route.params.hostId),this.getDisData(t.uid,t.id,this.$route.params.hostId),s["a"].dispatch("setCurrentDomain",t)):this.getUserDomain()},beforeDestroy:function(){clearInterval(b),this.$store.dispatch("toggleSwitchDomain",!1)},methods:{formatTraffic:l["c"],getData:function(t,a,e){var i=this;Object(o["c"])(t,a,e).then((function(t){var a=t.data;i.statis.online=a.num_rt,i.statis.traffic_p2p_day=a.traffic_p2p_day,i.statis.traffic_http_day=a.traffic_http_day,i.statis.traffic_p2p=Object(l["c"])(a.traffic_p2p_day),i.statis.traffic_http=Object(l["c"])(a.traffic_http_day),i.statis.frequency_day=a.api_frequency_day,0!==a.total_rebuffers&&0!==a.total_media_requests?i.statis.rebuffer_ratio=a.total_rebuffers/a.total_media_requests:i.statis.rebuffer_ratio=-1,i.statis.num_max=a.num_max,i.statis.flow.remain=a.flow.remain,i.statis.flow.daily_remain=a.flow.daily_remain,i.statis.flow.totalRemain=a.flow.daily_remain+a.flow.remain,i.statis.flow.free=Object(l["c"])(a.flow.free),i.statis.flow.utc=a.flow.utc,i.statis.whiteList=a.whitelist,i.statis.type.product_type=a.flow.product_type,i.statis.type.time=a.flow.duetime,i.statis.clock=a.clock,0===a.flow.free&&0===a.flow.remain&&0===a.flow.daily_remain&&i.remainTrafficFlag&&!a.whitelist&&(i.$messageBox.confirm(i.$t("dashboard.trafficUseOut"),{distinguishCancelAndClose:!0,confirmButtonText:i.$t("package.buyFlow"),cancelButtonText:i.$t("package.buyMonthly")}).then((function(){i.$router.push("/shopping/package")})).catch((function(t){"cancel"===t?i.$router.push("/shopping/monthly_package"):console.log("-")})),i.remainTrafficFlag=!1)})).catch((function(t){console.log(t)}))},getDisData:function(t,a,e){var i=this;a<0||(Object(o["a"])(t,a,"version",e).then((function(t){var a=t.data.data;i.disData.versionData=a?Object(l["b"])(a):[]})),Object(o["a"])(t,a,"tag",e).then((function(t){var a=t.data.data;i.disData.tagData=a?Object(l["b"])(a):[]})),Object(o["a"])(t,a,"device",e).then((function(t){var a=t.data.data;i.disData.deviceData=a?Object(l["b"])(a):[]})),Object(o["a"])(t,a,"live",e).then((function(t){var a=t.data.data;i.disData.liveData=a?Object(l["b"])(a):[]})),Object(o["a"])(t,a,"netType",e).then((function(t){var a=t.data.data;i.disData.netTypeData=a?Object(l["b"])(a):[]})),Object(o["a"])(t,a,"nat",e).then((function(t){var a=t.data.data;i.disData.natTypeData=a?Object(l["b"])(a):[]})))},loopGetData:function(t,a,e){var i=this;this.getData(t,a,e),clearInterval(b),b=setInterval((function(){i.getData(t,a,e)}),2e4)},getUserDomain:function(){this.currentDomain.id&&(this.loopGetData(this.currentDomain.uid,this.currentDomain.id),this.getDisData(this.currentDomain.uid,this.currentDomain.id))}}},D=m,y=(e("da4e"),e("2877")),O=Object(y["a"])(D,i,r,!1,null,null,null);a["default"]=O.exports},2370:function(t,a,e){},2774:function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.versionDis"),data:t.data.versionData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.tagDis"),data:t.data.tagData}})],1),!1===t.currentDomain.native?a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.terminalDis"),data:t.data.deviceData}})],1):t._e(),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.liveDis"),data:t.data.liveData}})],1),a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.netDis"),data:t.data.netTypeData}})],1),t.currentDomain.native?a("el-col",{staticClass:"chart-col",attrs:{xs:24,sm:12,lg:8}},[a("pie-card",{attrs:{title:t.$t("dashboard.natDis"),data:t.data.natTypeData}})],1):t._e()],1)},r=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),s=e("d9d8"),c=e("2f62");function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var d={name:"Distribution",components:{PieCard:s["a"]},computed:l({},Object(c["b"])(["currentDomain"])),props:{data:{type:Object,required:!0,default:{versionData:[],tagData:[],deviceData:[],liveData:[],netTypeData:[],natTypeData:[]}}}},f=d,u=(e("1418"),e("2877")),p=Object(u["a"])(f,i,r,!1,null,"60c29b32",null);a["a"]=p.exports},"92c3":function(t,a,e){},da4e:function(t,a,e){"use strict";e("2370")}}]);
//# sourceMappingURL=chunk-440e7062.de194c84.js.map