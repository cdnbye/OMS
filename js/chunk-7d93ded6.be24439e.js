(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d93ded6"],{3618:function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"n",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"p",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"k",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"q",(function(){return k}));var o=n("b775");function r(){return Object(o["a"])({url:"tracker/config",method:"get"})}function a(e){return Object(o["a"])({url:"tracker/config",method:"post",data:e})}function i(){return Object(o["a"])({url:"/tracker/announces",method:"get"})}function c(e){return Object(o["a"])({url:"/tracker/announces",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/tracker/announces",method:"delete",data:e})}function u(){return Object(o["a"])({url:"/tracker/block_ips",method:"get"})}function s(e){return Object(o["a"])({url:"/tracker/block_ips",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/tracker/block_ips",method:"delete",data:e})}function m(){return Object(o["a"])({url:"/tracker/debug_ips",method:"get"})}function g(e){return Object(o["a"])({url:"/tracker/debug_ips",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/tracker/debug_ips",method:"delete",data:e})}function p(){return Object(o["a"])({url:"/tracker/block_origins",method:"get"})}function h(e){return Object(o["a"])({url:"/tracker/block_origins",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/tracker/block_origins",method:"delete",data:e})}function _(){return Object(o["a"])({url:"/tracker/signal_token",method:"get"})}function v(e){return Object(o["a"])({url:"/tracker/signal_token",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/tracker/signal_token",method:"delete",data:e})}},b1e3:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e._self._c;return t("el-card",{attrs:{"body-style":"mobile"===e.device?{padding:"0"}:{padding:"50px"}}},[t("el-form",{ref:"configForm",attrs:{model:e.configForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"返回节点数量"}},[t("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.numChange},model:{value:e.configForm.max_peer_num,callback:function(t){e.$set(e.configForm,"max_peer_num",t)},expression:"configForm.max_peer_num"}})],1),t("el-form-item",{attrs:{label:"节点最大连接数"}},[t("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.maxConnChange},model:{value:e.configForm.max_peer_conn,callback:function(t){e.$set(e.configForm,"max_peer_conn",t)},expression:"configForm.max_peer_conn"}})],1),t("el-form-item",{attrs:{label:"节点最小连接数"}},[t("el-slider",{attrs:{max:15,"show-input":""},on:{change:e.minConnChange},model:{value:e.configForm.min_peer_conn,callback:function(t){e.$set(e.configForm,"min_peer_conn",t)},expression:"configForm.min_peer_conn"}})],1),t("el-form-item",{attrs:{label:"上报时间间隔"}},[t("el-slider",{attrs:{min:10,max:300,"show-input":""},on:{change:e.intervalChange},model:{value:e.configForm.report_interval,callback:function(t){e.$set(e.configForm,"report_interval",t)},expression:"configForm.report_interval"}})],1),t("el-form-item",{attrs:{label:"日志采样比率"}},[t("el-slider",{attrs:{min:0,max:100,"show-input":""},on:{change:e.piChange},model:{value:e.configForm.log_rate,callback:function(t){e.$set(e.configForm,"log_rate",t)},expression:"configForm.log_rate"}})],1),t("el-form-item",{attrs:{label:"自适应模式"}},[t("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以自适应信令熔断和信令服务降级"}}),t("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.autoReportIntervalChange},model:{value:e.configForm.auto_report_interval,callback:function(t){e.$set(e.configForm,"auto_report_interval",t)},expression:"configForm.auto_report_interval"}})],1),t("el-form-item",{attrs:{label:"异常上报模式"}},[t("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以上报异常日志"}}),t("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.debugChange},model:{value:e.configForm.online_debug,callback:function(t){e.$set(e.configForm,"online_debug",t)},expression:"configForm.online_debug"}})],1),t("el-form-item",{attrs:{label:"启动信令熔断"}},[t("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.fusingChange},model:{value:e.configForm.enable_fusing,callback:function(t){e.$set(e.configForm,"enable_fusing",t)},expression:"configForm.enable_fusing"}})],1),t("el-form-item",{attrs:{label:"信令服务降级"}},[t("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以降低信令服务器压力"}}),t("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.fusingChange},model:{value:e.configForm.signal_overloaded,callback:function(t){e.$set(e.configForm,"signal_overloaded",t)},expression:"configForm.signal_overloaded"}})],1),t("el-form-item",{attrs:{label:"信令熔断阈值"}},[t("el-slider",{attrs:{min:0,max:1e7,"show-input":""},on:{change:e.maxNodesChange},model:{value:e.configForm.signal_fuse_limit,callback:function(t){e.$set(e.configForm,"signal_fuse_limit",t)},expression:"configForm.signal_fuse_limit"}})],1),t("el-form-item",{attrs:{label:"服务状态"}},[t("el-switch",{attrs:{"active-color":"green","inactive-color":"red",disabled:!0},model:{value:e.configForm.tracker_open,callback:function(t){e.$set(e.configForm,"tracker_open",t)},expression:"configForm.tracker_open"}})],1),t("el-form-item",[t("el-button",{attrs:{loading:e.buttonLoading,disabled:!e.isChanged,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._v("更改")]),t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.reset.apply(null,arguments)}}},[e._v("取消")])],1)],1)],1)},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),i=n("2f62"),c=n("3618"),l=n("9f52");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"TrackerConfig",components:{PointTip:l["a"]},data:function(){return{isChanged:!1,buttonLoading:!1,tempData:{},configForm:{max_peer_num:0,max_peer_conn:0,min_peer_conn:0,report_interval:0,tracker_open:!1,signal_fuse_limit:0,auto_report_interval:!1,log_rate:0,online_debug:!1,enable_fusing:!1,signal_overloaded:!1}}},computed:s({},Object(i["b"])(["device"])),created:function(){var e=this;Object(c["l"])().then((function(t){e.tempData=s({},t.data),e.configForm=s({},t.data)}))},methods:{handleSubmit:function(){var e=this;this.buttonLoading=!0,Object(c["f"])(this.configForm).then((function(t){e.buttonLoading=!1,e.isChanged=!1,e.tempData=s({},e.configForm),e.$message({message:"更改配置成功",type:"success"})})).catch((function(t){e.buttonLoading=!1,console.log(t)}))},reset:function(){this.isChanged=!1,this.configForm=this.tempData},numChange:function(){this.isChanged=!0},maxConnChange:function(){this.isChanged=!0},minConnChange:function(){this.isChanged=!0},intervalChange:function(){this.isChanged=!0},piChange:function(){this.isChanged=!0},maxNodesChange:function(){this.isChanged=!0},autoReportIntervalChange:function(){this.isChanged=!0},debugChange:function(){this.isChanged=!0},fusingChange:function(){this.isChanged=!0}}},m=f,g=n("2877"),d=Object(g["a"])(m,o,r,!1,null,null,null);t["default"]=d.exports}}]);