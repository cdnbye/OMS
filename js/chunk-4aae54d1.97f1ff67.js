(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aae54d1"],{3618:function(t,e,n){"use strict";n.d(e,"l",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"b",(function(){return i})),n.d(e,"n",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"o",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"a",(function(){return b})),n.d(e,"m",(function(){return m})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"p",(function(){return h})),n.d(e,"k",(function(){return k})),n.d(e,"e",(function(){return O})),n.d(e,"q",(function(){return v}));var r=n("b775");function o(){return Object(r["a"])({url:"tracker/config",method:"get"})}function a(t){return Object(r["a"])({url:"tracker/config",method:"post",data:t})}function c(){return Object(r["a"])({url:"/tracker/announces",method:"get"})}function i(t){return Object(r["a"])({url:"/tracker/announces",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/tracker/announces",method:"delete",data:t})}function u(){return Object(r["a"])({url:"/tracker/block_ips",method:"get"})}function s(t){return Object(r["a"])({url:"/tracker/block_ips",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/tracker/block_ips",method:"delete",data:t})}function f(){return Object(r["a"])({url:"/tracker/allow_ips",method:"get"})}function b(t){return Object(r["a"])({url:"/tracker/allow_ips",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/tracker/allow_ips",method:"delete",data:t})}function p(){return Object(r["a"])({url:"/tracker/block_origins",method:"get"})}function g(t){return Object(r["a"])({url:"/tracker/block_origins",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/tracker/block_origins",method:"delete",data:t})}function k(){return Object(r["a"])({url:"/tracker/signal_token",method:"get"})}function O(t){return Object(r["a"])({url:"/tracker/signal_token",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/tracker/signal_token",method:"delete",data:t})}},7427:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("el-col",{staticStyle:{margin:"10px 0"},attrs:{xs:10,sm:4,lg:2}},[e("el-button",{staticStyle:{float:"'left'"},attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增Announce")])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{label:"域名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(n.row))])]}}])}),e("el-table-column",{attrs:{label:t.$t("domainTable.operation"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-popover",{ref:"popover-"+n.row,attrs:{placement:"top",width:"160",trigger:"manual"}},[e("p",[t._v("确认删除吗")]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.pClose(n.row)}}},[t._v(t._s(t.$t("common.cancel")))]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleDelete(n.row)}}},[t._v(t._s(t.$t("common.ok")))])],1),e("el-button",{style:"mobile"===t.device?"":"margin-left: 10px",attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(e){return t.pShow(n.row)}},slot:"reference"},[t._v(t._s(t.$t("common.delete")))])],1)]}}])})],1),e("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"mobile"===t.device?"85%":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",[t._v("输入Announce域名")])]),e("el-form",{ref:"createForm",attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[e("el-form-item",{attrs:{label:"Domain","label-width":"100px",required:""}},[e("el-input",{model:{value:t.form.announce,callback:function(e){t.$set(t.form,"announce",e)},expression:"form.announce"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("el-button",{attrs:{type:"primary",loading:t.createItemLoading},on:{click:t.handleCreateItem}},[t._v(t._s(t.$t("common.ok")))])],1)],1)],1)},o=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=n("3618"),i=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={name:"announce",data:function(){return{tableData:[],createItemLoading:!1,tableLoading:!1,dialogFormVisible:!1,form:{announce:""}}},created:function(){this.fetchData()},computed:u({},Object(i["b"])(["device"])),methods:{pShow:function(t){this.$refs["popover-"+t].doShow()},pClose:function(t){this.$refs["popover-"+t].doClose()},fetchData:function(){var t=this;this.tableLoading=!0,Object(c["h"])().then((function(e){e.data&&e.data.announces&&(t.tableData=e.data.announces),t.tableLoading=!1})).catch((function(e){t.tableLoading=!1}))},handleCreateItem:function(){var t=this;this.$refs.createForm.validate((function(e){if(!e)return!1;t.createItemLoading=!0,Object(c["b"])(t.form).then((function(e){e.data.success&&(t.dialogFormVisible=!1,t.createItemLoading=!1,t.$message.success("创建成功"),t.fetchData())})).catch((function(e){t.createItemLoading=!1}))}))},handleDelete:function(t){var e=this,n={announce:t};Object(c["n"])(n).then((function(n){n.data.success&&(e.fetchData(),e.$message.success(e.$t("app.deleteItemSuccess")),e.pClose(t))})).catch((function(n){e.pClose(t),console.log(n)}))}}},d=s,f=n("2877"),b=Object(f["a"])(d,r,o,!1,null,"3fe7d64d",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-4aae54d1.97f1ff67.js.map