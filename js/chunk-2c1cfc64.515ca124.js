(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c1cfc64"],{"19f1":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return o}));var i=n("b775");function a(t,e,n,a){return Object(i["a"])({url:"user/user_id/".concat(t,"/domain/domain_id/").concat(e,"/num?start_ts=").concat(n,"&end_ts=").concat(a,"&gran=5"),method:"get"})}function r(t,e,n,a,r){return r||(r=5),Object(i["a"])({url:"user/user_id/".concat(t,"/domain/domain_id/").concat(e,"/p2p?start_ts=").concat(n,"&end_ts=").concat(a,"&gran=").concat(r),method:"get"})}function s(t,e,n,a,r){return r||(r=5),Object(i["a"])({url:"user/user_id/".concat(t,"/domain/domain_id/").concat(e,"/http?start_ts=").concat(n,"&end_ts=").concat(a,"&gran=").concat(r),method:"get"})}function o(t,e,n,a,r){return r||(r=5),Object(i["a"])({url:"user/user_id/".concat(t,"/domain/domain_id/").concat(e,"/rebuffer_ratio?start_ts=").concat(n,"&end_ts=").concat(a,"&gran=").concat(r),method:"get"})}},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,i="millisecond",a="second",r="minute",s="hour",o="day",u="week",c="month",h="quarter",d="year",l="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},b={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+g(i,2,"0")+":"+g(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(i,c),r=n-a<0,s=e.clone().add(i+(r?-1:1),c);return+(-(i+(n-a)/(r?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:o,D:l,h:s,m:r,s:a,ms:i,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},D="en",v={};v[D]=y;var $=function(t){return t instanceof S},O=function t(e,n,i){var a;if(!e)return D;if("string"==typeof e){var r=e.toLowerCase();v[r]&&(a=r),n&&(v[r]=n,a=r);var s=e.split("-");if(!a&&s.length>1)return t(s[0])}else{var o=e.name;v[o]=e,a=o}return!i&&a&&(D=a),a||!i&&D},w=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},_=b;_.l=O,_.i=$,_.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function y(t){this.$L=O(t.locale,null,!0),this.parse(t)}var g=y.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(p);if(i){var a=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return _},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return w(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<w(t)},g.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,i=!!_.u(e)||e,h=_.p(t),f=function(t,e){var a=_.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?a:a.endOf(o)},p=function(t,e){return _.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,y=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(h){case d:return i?f(1,0):f(31,11);case c:return i?f(1,y):f(0,y+1);case u:var D=this.$locale().weekStart||0,v=(m<D?m+7:m)-D;return f(i?g-v:g+(6-v),y);case o:case l:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case r:return p(b+"Seconds",2);case a:return p(b+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,u=_.p(t),h="set"+(this.$u?"UTC":""),f=(n={},n[o]=h+"Date",n[l]=h+"Date",n[c]=h+"Month",n[d]=h+"FullYear",n[s]=h+"Hours",n[r]=h+"Minutes",n[a]=h+"Seconds",n[i]=h+"Milliseconds",n)[u],p=u===o?this.$D+(e-this.$W):e;if(u===c||u===d){var m=this.clone().set(l,1);m.$d[f](p),m.init(),this.$d=m.set(l,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[_.p(t)]()},g.add=function(i,h){var l,f=this;i=Number(i);var p=_.p(h),m=function(t){var e=w(f);return _.w(e.date(e.date()+Math.round(t*i)),f)};if(p===c)return this.set(c,this.$M+i);if(p===d)return this.set(d,this.$y+i);if(p===o)return m(1);if(p===u)return m(7);var y=(l={},l[r]=e,l[s]=n,l[a]=t,l)[p]||1,g=this.$d.getTime()+i*y;return _.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=_.z(this),r=this.$H,s=this.$m,o=this.$M,u=n.weekdays,c=n.months,h=function(t,n,a,r){return t&&(t[n]||t(e,i))||a[n].slice(0,r)},d=function(t){return _.s(r%12||12,t,"0")},l=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:_.s(o+1,2,"0"),MMM:h(n.monthsShort,o,c,3),MMMM:h(c,o),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,u,2),ddd:h(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(r),HH:_.s(r,2,"0"),h:d(1),hh:d(2),a:l(r,s,!0),A:l(r,s,!1),m:String(s),mm:_.s(s,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:a};return i.replace(m,(function(t,e){return e||p[t]||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,l,f){var p,m=_.p(l),y=w(i),g=(y.utcOffset()-this.utcOffset())*e,b=this-y,D=_.m(this,y);return D=(p={},p[d]=D/12,p[c]=D,p[h]=D/3,p[u]=(b-g)/6048e5,p[o]=(b-g)/864e5,p[s]=b/n,p[r]=b/e,p[a]=b/t,p)[m]||b,f?D:_.a(D)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return v[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=O(t,e,!0);return i&&(n.$L=i),n},g.clone=function(){return _.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},y}(),x=S.prototype;return w.prototype=x,[["$ms",i],["$s",a],["$m",r],["$H",s],["$W",o],["$M",c],["$y",d],["$D",l]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,S,w),t.$i=!0),w},w.locale=O,w.isDayjs=$,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w}))},"9a09":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.tipVisible,width:"mobile"===t.device?"80%":"30%"},on:{"update:visible":function(e){t.tipVisible=e}}},[e("span",[t._v(t._s(t.$t("dashboard.tip")))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.tipVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleGoApp}},[t._v(t._s(t.$t("dashboard.goApp")))]),e("el-button",{attrs:{type:"primary"},on:{click:t.handlePush}},[t._v(t._s(t.$t("dashboard.goBind")))])],1)])},a=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={name:"NoBindTip",data:function(){return{tipVisible:!1}},watch:{currentDomain:function(t){void 0!==t.id&&(this.tipVisible=!1)}},mounted:function(){var t=this;setTimeout((function(){t.roles.indexOf("user")>-1&&void 0===t.currentDomain.id&&(t.tipVisible=!0)}),5e3)},computed:u({},Object(s["b"])(["device","currentDomain","roles"])),methods:{handlePush:function(){this.tipVisible=!1,this.$router.push("/user/domain")},handleGoApp:function(){this.tipVisible=!1,this.$router.push("/app/app")}}},h=c,d=n("2877"),l=Object(d["a"])(h,i,a,!1,null,null,null);e["a"]=l.exports},"9ffd":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("DataPicker",{attrs:{date:t.date,radio:t.radio,hour:!1,day:!1},on:{selectChange:t.selectChange,dataChange:t.dataChange}}),e("LineChart",{attrs:{"chart-data":t.lineChartData,option:t.option}}),e("NoBindTip")],1)},a=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),s=n("5a0c"),o=n.n(s),u=n("f87d"),c=n("9a09"),h=n("e702"),d=n("19f1"),l=n("2f62");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={name:"Rebuffer",components:{DataPicker:u["a"],LineChart:h["a"],NoBindTip:c["a"]},data:function(){return{lineChartData:{rebuffer:[]},date:[o()().startOf("day").subtract(1,"week"),o()().startOf("day")],radio:"week",option:{xData:[],unit:"%",yName:"Rebuffer"}}},computed:p(p({},Object(l["b"])(["userDomain","currentDomain"])),{},{displayDay:function(){return"week"===this.radio||"month"===this.radio}}),watch:{currentDomain:function(){this.getData()}},mounted:function(){this.$store.dispatch("toggleSwitchDomain",!0),this.currentDomain.id&&this.getData()},beforeDestroy:function(){this.$store.dispatch("toggleSwitchDomain",!1)},methods:{dataChange:function(t){t&&(this.date[0]=t[0],this.date[1]=t[1],this.getData(this.getTimeStamp(this.date[0]),this.getTimeStamp(this.date[1])))},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getTimeStamp(this.date[0]),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getTimeStamp(this.date[1]);this.option.xData=[],this.lineChartData.rebuffer=[];var i=5;this.displayDay&&(i=1440),Object(d["d"])(this.currentDomain.uid,this.currentDomain.id,e,n,i).then((function(e){e.data.list.forEach((function(e,n){t.option.xData.push(o()(1e3*e.ts).format("MM-DD")),t.lineChartData.rebuffer.push(parseFloat((100*e.value).toFixed(2)))}))}))},selectChange:function(t){switch(this.date[1]=o()(),t){case"week":this.date[0]=o()().startOf("day").subtract(1,"week"),this.getData(this.getTimeStamp(this.date[0]),this.getTimeStamp(this.date[1]));break;case"month":this.date[0]=o()().startOf("day").subtract(1,"month"),this.getData(this.getTimeStamp(this.date[0]),this.getTimeStamp(this.date[1]));break;default:break}},getTimeStamp:function(t){return o()(t).unix()}}},y=m,g=n("2877"),b=Object(g["a"])(y,i,a,!1,null,null,null);e["default"]=b.exports},e702:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},a=[],r=(n("28a5"),n("456d"),n("ac6a"),n("ed08")),s=n("3eba");n("817d");var o={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0},secondChartData:{type:Object,required:!1},option:{type:Object,required:!0},showSecondYAxis:{type:Boolean}},data:function(){return{chart:null,optionData:{xData:[],unit:""},data:{},secondData:{}}},watch:{secondChartData:{deep:!0,handler:function(t){this.secondData=t,this.setOptions()}},chartData:{deep:!0,handler:function(t){this.data=t,this.setOptions()}},option:{deep:!0,handler:function(t){this.optionData=t,this.setOptions()}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(r["b"])((function(){t.chart&&t.chart.resize()}),100),window.addEventListener("resize",this.__resizeHandler));var e=document.getElementsByClassName("sidebar-container")[0];e.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){if(this.chart){this.autoResize&&window.removeEventListener("resize",this.__resizeHandler);var t=document.getElementsByClassName("sidebar-container")[0];t&&t.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null}},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=this,e=[],n=[],i=["#3888fa","#FF005A"];Object.keys(this.data).forEach((function(a,r){n.push(a),e.push({name:a,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{normal:{color:i[r],lineStyle:{color:i[r],width:2}}},smooth:!0,type:"line",data:t.data[a],animationDuration:2800,animationEasing:"cubicInOut"})})),Object.keys(this.secondData).forEach((function(i,a){n.push(i),e.push({name:i,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},yAxisIndex:1,smooth:!0,type:"line",data:t.secondData[i],animationDuration:2800,animationEasing:"cubicInOut"})}));var a={xAxis:{data:this.optionData.xData,boundaryGap:!1,axisLabel:{formatter:function(t){if(t)return t.split(" ").join("\n")}},axisTick:{show:!1}},grid:{left:10,right:30,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",padding:[5,10],axisPointer:{type:"cross"},textStyle:{align:"left"}},yAxis:[{name:this.optionData.unit?"".concat(this.optionData.yName,"(").concat(this.optionData.unit,")"):"".concat(this.optionData.yName),axisTick:{show:!1}}],legend:{data:n},series:e};this.showSecondYAxis&&a.yAxis.push({name:"P2P Ratio",max:100,min:0,axisTick:{show:!1},position:"right",axisLabel:{formatter:"{value} %"}}),this.chart.setOption(a)},initChart:function(){this.chart=s.init(this.$el,"macarons"),this.setOptions()}}},u=o,c=n("2877"),h=Object(c["a"])(u,i,a,!1,null,null,null);e["a"]=h.exports},f87d:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("el-form",{staticStyle:{"margin-top":"10px"},attrs:{inline:!0}},[e("el-form-item",{attrs:{xs:10,sm:6,lg:4}},[e("el-radio-group",{on:{change:t.selectChange},model:{value:t.mRadio,callback:function(e){t.mRadio=e},expression:"mRadio"}},[t.hour?e("el-radio-button",{attrs:{label:"hour"}},[t._v(t._s(t.$t("historyData.hour")))]):t._e(),t.day?e("el-radio-button",{attrs:{label:"day"}},[t._v(t._s(t.$t("historyData.day")))]):t._e(),t.week?e("el-radio-button",{attrs:{label:"week"}},[t._v(t._s(t.$t("historyData.week")))]):t._e(),t.month?e("el-radio-button",{attrs:{label:"month"}},[t._v(t._s(t.$t("historyData.month")))]):t._e()],1)],1),e("el-form-item",{attrs:{xs:10,sm:6,lg:4}},[e("el-date-picker",{attrs:{type:"datetimerange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date","picker-options":t.pickerOptions},on:{change:t.dataChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},a=[],r=(n("c5f6"),{name:"DataPicker",props:{hour:{type:Boolean,default:!0},day:{type:Boolean,default:!0},week:{type:Boolean,default:!0},month:{type:Boolean,default:!0},radio:{type:String,required:!0},date:{type:Array,required:!0},span:{type:Number,default:0}},data:function(){var t=this;return{mRadio:this.radio,value:[],startTime:"",pickerOptions:{onPick:function(e){e.maxDate;var n=e.minDate;t.startTime=n},disabledDate:function(e){if(t.startTime&&t.span>0)return new Date(e).getTime()>=new Date(t.startTime).getTime()+864e5*t.span}}}},watch:{date:{immediate:!0,handler:function(t,e){this.value=t}}},methods:{selectChange:function(t){this.$emit("selectChange",t)},dataChange:function(t){this.$emit("dataChange",t)}}}),s=r,o=n("2877"),u=Object(o["a"])(s,i,a,!1,null,"4715ba9c",null);e["a"]=u.exports}}]);