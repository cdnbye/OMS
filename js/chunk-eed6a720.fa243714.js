(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eed6a720"],{"22bf":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.payLoading,expression:"payLoading"}],style:"mobile"===t.device?{}:{padding:"30px 250px"},attrs:{"element-loading-text":t.$t("package.payLoadingTip")}},[a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"left",prop:"subject",label:t.$t("package.packageInfo")}}),a("el-table-column",{attrs:{align:"left",prop:"price",label:t.$t("package.unitPrice")}}),a("el-table-column",{attrs:{align:"left",prop:"amount",label:t.$t("package.quantity")}}),a("el-table-column",{attrs:{align:"left",prop:"total",label:t.$t("package.expense")}})],1),a("div",{staticClass:"pay-submit"},[a("el-card",{attrs:{shadow:"never"}},[a("div",[a("div",{staticClass:"cost"},[a("span",[t._v(t._s(t.$t("package.total")))]),a("span",{staticClass:"price"},[a("em",[t._v(" "+t._s(t.totalPrice))]),a("span",[t._v(t._s("CNY"===t.currency?" ï¿¥":" $"))])])]),a("div",{staticClass:"payMethod"},["CNY"===t.currency?a("img",{attrs:{src:t.payImg.ali},on:{click:t.alipayClick}}):t._e(),"CNY"!==t.currency?a("img",{attrs:{src:t.payImg.paypal},on:{click:t.paypalClick}}):t._e(),"CNY"!==t.currency&&t.showCrypto?a("img",{attrs:{src:t.payImg.coinbase},on:{click:t.coinbaseClick}}):t._e()])])])],1),a("el-dialog",{attrs:{visible:t.cantBuyVisible,width:"mobile"===t.device?"80%":"30%"},on:{"update:visible":function(a){t.cantBuyVisible=a}}},[a("span",[t._v(t._s(t.$t("package.systemError")))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.cantBuyVisible=!1}}},[t._v(t._s(t.$t("common.ok")))])],1)])],1)},r=[],c=(e("8e6e"),e("456d"),e("ac6a"),e("75fc")),n=e("bd86"),o=e("2f62"),l=e("66e6");e("5d2d"),e("267e");function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function p(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var u={name:"OrderDetail",data:function(){return{showCrypto:!0,payImg:{ali:e("2d67"),paypal:e("9a25"),coinbase:e("d615")},payLoading:!1,cantBuyVisible:!1,tableData:[],currency:"",totalPrice:0,orderID:0}},computed:p({},Object(o["b"])(["device"])),mounted:function(){this.$route.query.currency?this.formatData():this.$router.push("/shopping/package")},methods:{formatData:function(){try{this.tableData=Object(c["a"])(JSON.parse(this.$route.query.buyData)),this.tableData.forEach((function(t){t.total=t.amount?(t.amount*t.price).toFixed(2):t.price.toFixed(2),t.amount||(t.amount=1)}))}catch(t){console.error(t),this.$router.push("/")}this.currency=this.$route.query.currency,this.totalPrice=this.$route.query.totalPrice,this.orderID=this.$route.query.orderID},paypalClick:function(){this.handleFetchPayUrl("paypal")},alipayClick:function(){this.handleFetchPayUrl("alipay")},coinbaseClick:function(){this.handleFetchPayUrl("crypto")},handleFetchPayUrl:function(t){var a=this;this.payLoading=!0,Object(l["h"])(t,this.orderID,this.device).then((function(t){t.data.available?window.location.href="".concat(t.data.pay_url):(a.payLoading=!1,a.cantBuyVisible=!0)})).catch((function(t){a.payLoading=!1,console.log(t)}))}}},y=u,d=(e("77c8"),e("2877")),b=Object(d["a"])(y,i,r,!1,null,"5fda63af",null);a["default"]=b.exports},"2d67":function(t,a,e){t.exports=e.p+"img/ali_pay.546a525b.png"},"77c8":function(t,a,e){"use strict";e("9303")},9303:function(t,a,e){},"9a25":function(t,a,e){t.exports=e.p+"img/paypal.413b73aa.jpeg"},d615:function(t,a,e){t.exports=e.p+"img/coinbase.68854eb4.png"}}]);
//# sourceMappingURL=chunk-eed6a720.fa243714.js.map