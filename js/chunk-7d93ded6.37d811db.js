(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d93ded6"],{3618:function(e,n,t){"use strict";t.d(n,"l",(function(){return r})),t.d(n,"f",(function(){return a})),t.d(n,"g",(function(){return i})),t.d(n,"a",(function(){return c})),t.d(n,"m",(function(){return l})),t.d(n,"h",(function(){return u})),t.d(n,"b",(function(){return s})),t.d(n,"n",(function(){return f})),t.d(n,"j",(function(){return m})),t.d(n,"d",(function(){return g})),t.d(n,"p",(function(){return d})),t.d(n,"i",(function(){return p})),t.d(n,"c",(function(){return h})),t.d(n,"o",(function(){return b})),t.d(n,"k",(function(){return _})),t.d(n,"e",(function(){return v})),t.d(n,"q",(function(){return k}));var o=t("b775");function r(){return Object(o["a"])({url:"tracker/config",method:"get"})}function a(e){return Object(o["a"])({url:"tracker/config",method:"post",data:e})}function i(){return Object(o["a"])({url:"/tracker/announces",method:"get"})}function c(e){return Object(o["a"])({url:"/tracker/announces",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/tracker/announces",method:"delete",data:e})}function u(){return Object(o["a"])({url:"/tracker/block_ips",method:"get"})}function s(e){return Object(o["a"])({url:"/tracker/block_ips",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/tracker/block_ips",method:"delete",data:e})}function m(){return Object(o["a"])({url:"/tracker/debug_ips",method:"get"})}function g(e){return Object(o["a"])({url:"/tracker/debug_ips",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/tracker/debug_ips",method:"delete",data:e})}function p(){return Object(o["a"])({url:"/tracker/block_origins",method:"get"})}function h(e){return Object(o["a"])({url:"/tracker/block_origins",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/tracker/block_origins",method:"delete",data:e})}function _(){return Object(o["a"])({url:"/tracker/signal_token",method:"get"})}function v(e){return Object(o["a"])({url:"/tracker/signal_token",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/tracker/signal_token",method:"delete",data:e})}},b1e3:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e._self._c;return n("el-card",{attrs:{"body-style":"mobile"===e.device?{padding:"0"}:{padding:"50px"}}},[n("el-form",{ref:"configForm",attrs:{model:e.configForm,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"返回节点数量"}},[n("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.numChange},model:{value:e.configForm.max_peer_num,callback:function(n){e.$set(e.configForm,"max_peer_num",n)},expression:"configForm.max_peer_num"}})],1),n("el-form-item",{attrs:{label:"节点最大连接数"}},[n("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.maxConnChange},model:{value:e.configForm.max_peer_conn,callback:function(n){e.$set(e.configForm,"max_peer_conn",n)},expression:"configForm.max_peer_conn"}})],1),n("el-form-item",{attrs:{label:"节点最小连接数"}},[n("el-slider",{attrs:{max:15,"show-input":""},on:{change:e.minConnChange},model:{value:e.configForm.min_peer_conn,callback:function(n){e.$set(e.configForm,"min_peer_conn",n)},expression:"configForm.min_peer_conn"}})],1),n("el-form-item",{attrs:{label:"上报时间间隔"}},[n("el-slider",{attrs:{min:10,max:300,"show-input":""},on:{change:e.intervalChange},model:{value:e.configForm.report_interval,callback:function(n){e.$set(e.configForm,"report_interval",n)},expression:"configForm.report_interval"}})],1),n("el-form-item",{attrs:{label:"日志采样比率"}},[n("el-slider",{attrs:{min:0,max:100,"show-input":""},on:{change:e.piChange},model:{value:e.configForm.log_rate,callback:function(n){e.$set(e.configForm,"log_rate",n)},expression:"configForm.log_rate"}})],1),n("el-form-item",{attrs:{label:"自适应模式"}},[n("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以自适应信令熔断和信令服务降级"}}),n("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.autoReportIntervalChange},model:{value:e.configForm.auto_report_interval,callback:function(n){e.$set(e.configForm,"auto_report_interval",n)},expression:"configForm.auto_report_interval"}})],1),n("el-form-item",{attrs:{label:"异常上报模式"}},[n("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以上报异常日志"}}),n("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.debugChange},model:{value:e.configForm.online_debug,callback:function(n){e.$set(e.configForm,"online_debug",n)},expression:"configForm.online_debug"}})],1),n("el-form-item",{attrs:{label:"启动信令熔断"}},[n("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.fusingChange},model:{value:e.configForm.enable_fusing,callback:function(n){e.$set(e.configForm,"enable_fusing",n)},expression:"configForm.enable_fusing"}})],1),n("el-form-item",{attrs:{label:"信令服务降级"}},[n("PointTip",{staticStyle:{float:"left"},attrs:{content:"启动后可以降低信令服务器压力"}}),n("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.fusingChange},model:{value:e.configForm.signal_compressed,callback:function(n){e.$set(e.configForm,"signal_compressed",n)},expression:"configForm.signal_compressed"}})],1),n("el-form-item",{attrs:{label:"同时在线节点数"}},[n("el-slider",{attrs:{min:0,max:1e7,"show-input":""},on:{change:e.maxNodesChange},model:{value:e.configForm.max_nodes,callback:function(n){e.$set(e.configForm,"max_nodes",n)},expression:"configForm.max_nodes"}})],1),n("el-form-item",{attrs:{label:"服务状态"}},[n("el-switch",{attrs:{"active-color":"green","inactive-color":"red",disabled:!0},model:{value:e.configForm.tracker_open,callback:function(n){e.$set(e.configForm,"tracker_open",n)},expression:"configForm.tracker_open"}})],1),n("el-form-item",[n("el-button",{attrs:{loading:e.buttonLoading,disabled:!e.isChanged,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._v("更改")]),n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.reset.apply(null,arguments)}}},[e._v("取消")])],1)],1)],1)},r=[],a=(t("8e6e"),t("ac6a"),t("456d"),t("bd86")),i=t("2f62"),c=t("3618"),l=t("9f52");function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){Object(a["a"])(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f={name:"TrackerConfig",components:{PointTip:l["a"]},data:function(){return{isChanged:!1,buttonLoading:!1,tempData:{},configForm:{max_peer_num:0,max_peer_conn:0,min_peer_conn:0,report_interval:0,tracker_open:!1,max_nodes:0,auto_report_interval:!1,log_rate:0,online_debug:!1,enable_fusing:!1,signal_compressed:!1}}},computed:s({},Object(i["b"])(["device"])),created:function(){var e=this;Object(c["l"])().then((function(n){e.tempData=s({},n.data),e.configForm=s({},n.data)}))},methods:{handleSubmit:function(){var e=this;this.buttonLoading=!0,Object(c["f"])(this.configForm).then((function(n){e.buttonLoading=!1,e.isChanged=!1,e.tempData=s({},e.configForm),e.$message({message:"更改配置成功",type:"success"})})).catch((function(n){e.buttonLoading=!1,console.log(n)}))},reset:function(){this.isChanged=!1,this.configForm=this.tempData},numChange:function(){this.isChanged=!0},maxConnChange:function(){this.isChanged=!0},minConnChange:function(){this.isChanged=!0},intervalChange:function(){this.isChanged=!0},piChange:function(){this.isChanged=!0},maxNodesChange:function(){this.isChanged=!0},autoReportIntervalChange:function(){this.isChanged=!0},debugChange:function(){this.isChanged=!0},fusingChange:function(){this.isChanged=!0}}},m=f,g=t("2877"),d=Object(g["a"])(m,o,r,!1,null,null,null);n["default"]=d.exports}}]);